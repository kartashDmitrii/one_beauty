(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=2)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return videoPlayer});class videoPlayer{constructor(video,button){this.video=video;this.button=button;if(this.video.parentNode.querySelector(".poster")){this.poster=this.video.parentNode.querySelector(".poster")}this.button.addEventListener("click",()=>{this.playVideo()})}playVideo(){if(this.video.paused){if(this.poster){this.poster.style.display="none"}this.video.play();this.button.classList.add("active")}else{this.video.pause();this.button.classList.remove("active")}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Tabs});class Tabs{constructor(btnArrow,tabArrow){this.btnArrow=btnArrow;this.tabArrow=tabArrow;this.btnArrow.forEach((elem,index)=>{elem.addEventListener("click",()=>this.switchTab(index))})}switchTab(index){this.btnArrow.forEach(btn=>{btn.classList.remove("current")});this.btnArrow[index].classList.add("current");this.tabArrow.forEach(tab=>{tab.classList.remove("current")});this.tabArrow[index].classList.add("current")}}},function(module,exports,__webpack_require__){__webpack_require__(3);module.exports=__webpack_require__(4)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_global_top_block_video__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _components_tabs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);if(document.querySelector(".top-video-block .video video")){new _components_global_top_block_video__WEBPACK_IMPORTED_MODULE_0__["a"](document.querySelector(".top-video-block .video video"),document.querySelector(".top-video-block .video .play-btn"))}if(document.querySelector(".our-specialists .slider")){document.querySelectorAll(".our-specialists .slider").forEach(slider=>{let siema=new Siema({selector:slider,duration:200,easing:"ease-out",perPage:{0:1,1024:3},startIndex:1,draggable:true,multipleDrag:true,threshold:20,loop:false,rtl:false,onInit:function(){this.selector.closest("section").querySelector(".slider-btns .btn-left").addEventListener("click",()=>{siema.prev()});this.selector.closest("section").querySelector(".slider-btns .btn-right").addEventListener("click",()=>{siema.next()})},onChange:function(){}})})}document.querySelectorAll(".tabs").forEach(tabs=>{new _components_tabs__WEBPACK_IMPORTED_MODULE_1__["a"](tabs.querySelectorAll(".tab-links .tab"),tabs.querySelectorAll(".tab-blocks .tab"))})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var top_block_video=__webpack_require__(0);var components_tabs=__webpack_require__(1);class HeaderBurger{constructor(burger,popup){this.burger=burger;this.popup=popup;this.burger.addEventListener("click",()=>{this.burgerFunction()});this.popup.querySelector(".close").addEventListener("click",()=>{this.closeFunction()})}burgerFunction(){this.popup.classList.add("active");document.body.classList.add("hidden")}closeFunction(){this.popup.classList.remove("active");document.body.classList.remove("hidden")}}class headerLanguage{constructor(languageBlock){this.languageBlock=languageBlock;this.languageList=this.languageBlock.querySelector("ul");this.languageBlock.querySelector(".current").addEventListener("click",()=>{this.showBlock()})}showBlock(){let closeBlock=()=>{this.languageList.style.height=`0`;window.removeEventListener("click",closeBlock)};let blockHeight=parseInt(window.getComputedStyle(this.languageList).getPropertyValue("height"));if(blockHeight===0){this.languageList.style.height=`${this.languageList.scrollHeight}px`;setTimeout(()=>{window.addEventListener("click",closeBlock)})}else{this.languageList.style.height=`0`}}}if(document.querySelector(".top-block .video video")){new top_block_video["a"](document.querySelector(".top-block .video video"),document.querySelector(".top-block .video .play-btn"))}if(document.querySelector(".slider-full-page")){document.querySelectorAll(".slider-full-page").forEach(slider=>{let sliderContainer=slider.querySelector(".container");let siema=new Siema({selector:sliderContainer,duration:200,easing:"ease-out",perPage:{0:1,1024:2},startIndex:1,draggable:false,multipleDrag:true,threshold:20,loop:false,rtl:false,onInit:function(){if(window.screen.width<767){this.selector.style.overflow="initial"}this.selector.querySelectorAll(".slide").forEach((elem,index)=>{let dot=document.createElement("button");dot.classList.add("dot");dot.innerText=elem.querySelector(".name").innerHTML;this.selector.closest(".tab").querySelector(".slider-btns .dots").appendChild(dot);dot.addEventListener("click",()=>{siema.goTo(index)})});this.selector.closest(".tab").querySelector(".slider-btns .btn-left").addEventListener("click",()=>{siema.prev()});this.selector.closest(".tab").querySelector(".slider-btns .btn-right").addEventListener("click",()=>{siema.next()})},onChange:function(){if(this.selector.closest(".tab").querySelector(".dot.current")){this.selector.closest(".tab").querySelector(".dot.current").classList.remove("current")}this.selector.closest(".tab").querySelectorAll(".dot")[siema.currentSlide].classList.add("current")}})})}if(document.querySelector(".slider-full-page-solo")){document.querySelectorAll(".slider-full-page-solo").forEach(slider=>{let sliderContainer=slider.querySelector(".container");let siema=new Siema({selector:sliderContainer,duration:300,easing:"ease-out",perPage:1,startIndex:0,draggable:false,multipleDrag:false,threshold:20,loop:false,rtl:false,onInit:function(){if(window.screen.width>1199){this.selector.style.overflow="initial"}this.selector.querySelectorAll(".slide").forEach((elem,index)=>{let dot=document.createElement("button");dot.classList.add("dot");dot.innerText=elem.dataset.dotName;this.selector.closest(".tab").querySelector(".slider-btns .dots").appendChild(dot);dot.addEventListener("click",()=>{siema.goTo(index)})});this.selector.closest(".tab").querySelector(".slider-btns .btn-left").addEventListener("click",()=>{siema.prev()});this.selector.closest(".tab").querySelector(".slider-btns .btn-right").addEventListener("click",()=>{siema.next()})},onChange:function(){if(this.selector.querySelector(".slide.current")){this.selector.querySelector(".slide.current").classList.remove("current")}this.selector.querySelectorAll(".slide")[siema.currentSlide].classList.add("current");if(this.selector.closest(".tab").querySelector(".dot.current")){this.selector.closest(".tab").querySelector(".dot.current").classList.remove("current")}this.selector.closest(".tab").querySelectorAll(".dot")[siema.currentSlide].classList.add("current");let img=this.selector.closest(".slider-full-page-solo").querySelector(".bg-img img");img.style.opacity="0";setTimeout(()=>{img.src=this.selector.querySelectorAll(".slide")[siema.currentSlide].dataset.img;img.style.opacity="1"},150)}})})}document.querySelectorAll(".tabs").forEach(tabs=>{new components_tabs["a"](tabs.querySelectorAll(".tab-links .tab"),tabs.querySelectorAll(".tab-blocks .tab"))});if(document.querySelector(".comments .slider")){let siema=new Siema({selector:".comments .slider",duration:300,easing:"ease-out",perPage:1,startIndex:0,draggable:true,multipleDrag:false,threshold:20,loop:false,rtl:false,onInit:function(){this.selector.closest(".comments").querySelector(".slider-btns .left").addEventListener("click",()=>{siema.prev()});this.selector.closest(".comments").querySelector(".slider-btns .right").addEventListener("click",()=>{siema.next()})},onChange:function(){}})}if(document.querySelector("header")){new HeaderBurger(document.querySelector(".mobile-burger"),document.querySelector(".bottom-header"));new headerLanguage(document.querySelector(".header .language"))}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJ2aWRlb1BsYXllciIsIltvYmplY3QgT2JqZWN0XSIsInZpZGVvIiwiYnV0dG9uIiwidGhpcyIsInBhcmVudE5vZGUiLCJxdWVyeVNlbGVjdG9yIiwicG9zdGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBsYXlWaWRlbyIsInBhdXNlZCIsInN0eWxlIiwiZGlzcGxheSIsInBsYXkiLCJjbGFzc0xpc3QiLCJhZGQiLCJwYXVzZSIsInJlbW92ZSIsIlRhYnMiLCJidG5BcnJvdyIsInRhYkFycm93IiwiZm9yRWFjaCIsImVsZW0iLCJpbmRleCIsInN3aXRjaFRhYiIsImJ0biIsInRhYiIsIl9jb21wb25lbnRzX2dsb2JhbF90b3BfYmxvY2tfdmlkZW9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9jb21wb25lbnRzX3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInNsaWRlciIsInNpZW1hIiwiU2llbWEiLCJzZWxlY3RvciIsImR1cmF0aW9uIiwiZWFzaW5nIiwicGVyUGFnZSIsIjAiLCIxMDI0Iiwic3RhcnRJbmRleCIsImRyYWdnYWJsZSIsIm11bHRpcGxlRHJhZyIsInRocmVzaG9sZCIsImxvb3AiLCJydGwiLCJvbkluaXQiLCJjbG9zZXN0IiwicHJldiIsIm5leHQiLCJvbkNoYW5nZSIsInRhYnMiLCJ0b3BfYmxvY2tfdmlkZW8iLCJjb21wb25lbnRzX3RhYnMiLCJIZWFkZXJCdXJnZXIiLCJidXJnZXIiLCJwb3B1cCIsImJ1cmdlckZ1bmN0aW9uIiwiY2xvc2VGdW5jdGlvbiIsImJvZHkiLCJoZWFkZXJMYW5ndWFnZSIsImxhbmd1YWdlQmxvY2siLCJsYW5ndWFnZUxpc3QiLCJzaG93QmxvY2siLCJjbG9zZUJsb2NrIiwiaGVpZ2h0Iiwid2luZG93IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImJsb2NrSGVpZ2h0IiwicGFyc2VJbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNjcm9sbEhlaWdodCIsInNldFRpbWVvdXQiLCJzbGlkZXJDb250YWluZXIiLCJzY3JlZW4iLCJ3aWR0aCIsIm92ZXJmbG93IiwiZG90IiwiY3JlYXRlRWxlbWVudCIsImlubmVyVGV4dCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiZ29UbyIsImN1cnJlbnRTbGlkZSIsImRhdGFzZXQiLCJkb3ROYW1lIiwiaW1nIiwib3BhY2l0eSIsInNyYyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsU0FFVCxJQUFJQyxpQkFBbUIsR0FHdkIsU0FBU0Msb0JBQW9CQyxVQUc1QixHQUFHRixpQkFBaUJFLFVBQVcsQ0FDOUIsT0FBT0YsaUJBQWlCRSxVQUFVQyxRQUduQyxJQUFJQyxPQUFTSixpQkFBaUJFLFVBQVksQ0FDekNHLEVBQUdILFNBQ0hJLEVBQUcsTUFDSEgsUUFBUyxJQUlWSixRQUFRRyxVQUFVSyxLQUFLSCxPQUFPRCxRQUFTQyxPQUFRQSxPQUFPRCxRQUFTRixxQkFHL0RHLE9BQU9FLEVBQUksS0FHWCxPQUFPRixPQUFPRCxRQUtmRixvQkFBb0JPLEVBQUlULFFB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ZS9CLFNBQVN2QixjQUFjIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbi8qKioqKiovIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4vKioqKioqLyBcdFx0cmV0dXJuIG5zO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHZpZGVvUGxheWVyOyB9KTtcbmNsYXNzIHZpZGVvUGxheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHZpZGVvLCBidXR0b24pIHtcclxuICAgICAgICB0aGlzLnZpZGVvID0gdmlkZW87XHJcbiAgICAgICAgdGhpcy5idXR0b24gPSBidXR0b247XHJcbiAgICAgICAgaWYgKHRoaXMudmlkZW8ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcucG9zdGVyJykpe1xyXG4gICAgICAgICAgICB0aGlzLnBvc3RlciA9IHRoaXMudmlkZW8ucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcucG9zdGVyJylcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3RoaXMucGxheVZpZGVvKCl9KVxyXG4gICAgfVxyXG4gICAgcGxheVZpZGVvKCl7XHJcbiAgICAgICAgaWYgKHRoaXMudmlkZW8ucGF1c2VkKXtcclxuICAgICAgICAgICAgaWYgKHRoaXMucG9zdGVyKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zdGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnZpZGVvLnBsYXkoKTtcclxuICAgICAgICAgICAgdGhpcy5idXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVGFiczsgfSk7XG5jbGFzcyBUYWJze1xyXG4gICAgY29uc3RydWN0b3IoYnRuQXJyb3csIHRhYkFycm93KSB7XHJcbiAgICAgICAgdGhpcy5idG5BcnJvdyA9IGJ0bkFycm93XHJcbiAgICAgICAgdGhpcy50YWJBcnJvdyA9IHRhYkFycm93XHJcbiAgICAgICAgdGhpcy5idG5BcnJvdy5mb3JFYWNoKCAoZWxlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+ICh0aGlzLnN3aXRjaFRhYihpbmRleCkpKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBzd2l0Y2hUYWIoaW5kZXgpe1xyXG4gICAgICAgIHRoaXMuYnRuQXJyb3cuZm9yRWFjaChidG4gPT57XHJcbiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50JylcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuYnRuQXJyb3dbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKVxyXG4gICAgICAgIHRoaXMudGFiQXJyb3cuZm9yRWFjaCh0YWIgPT57XHJcbiAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50JylcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMudGFiQXJyb3dbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKVxyXG4gICAgfVxyXG59XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c19nbG9iYWxfdG9wX2Jsb2NrX3ZpZGVvX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9jb21wb25lbnRzX3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cclxuXHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvcC12aWRlby1ibG9jayAudmlkZW8gdmlkZW8nKSkge1xyXG4gICAgbmV3IF9jb21wb25lbnRzX2dsb2JhbF90b3BfYmxvY2tfdmlkZW9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1svKiBkZWZhdWx0ICovIFwiYVwiXShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9wLXZpZGVvLWJsb2NrIC52aWRlbyB2aWRlbycpLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9wLXZpZGVvLWJsb2NrIC52aWRlbyAucGxheS1idG4nKSlcclxufVxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vdXItc3BlY2lhbGlzdHMgLnNsaWRlcicpKXtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vdXItc3BlY2lhbGlzdHMgLnNsaWRlcicpLmZvckVhY2goIHNsaWRlciA9PiB7XHJcbiAgICAgICAgbGV0IHNpZW1hID0gbmV3IFNpZW1hKHtcclxuICAgICAgICAgICAgc2VsZWN0b3I6IHNsaWRlcixcclxuICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZS1vdXQnLFxyXG4gICAgICAgICAgICBwZXJQYWdlOiB7XHJcbiAgICAgICAgICAgICAgICAwOiAxLFxyXG4gICAgICAgICAgICAgICAgMTAyNDogM1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdGFydEluZGV4OiAxLFxyXG4gICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgIG11bHRpcGxlRHJhZzogdHJ1ZSxcclxuICAgICAgICAgICAgdGhyZXNob2xkOiAyMCxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJ0bDogZmFsc2UsXHJcbiAgICAgICAgICAgIG9uSW5pdDogZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJ3NlY3Rpb24nKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLmJ0bi1sZWZ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLnByZXYoKX0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJ3NlY3Rpb24nKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLmJ0bi1yaWdodCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntzaWVtYS5uZXh0KCl9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYnMnKS5mb3JFYWNoKCB0YWJzID0+IHtcclxuICAgIG5ldyBfY29tcG9uZW50c190YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bLyogZGVmYXVsdCAqLyBcImFcIl0odGFicy5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWxpbmtzIC50YWInKSwgdGFicy5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWJsb2NrcyAudGFiJykpXHJcbn0pXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8vIEVTTSBDT01QQVQgRkxBR1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2pzL2NvbXBvbmVudHMvZ2xvYmFsL3RvcC1ibG9ja192aWRlby5qc1xudmFyIHRvcF9ibG9ja192aWRlbyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvanMvY29tcG9uZW50cy90YWJzLmpzXG52YXIgY29tcG9uZW50c190YWJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvanMvY29tcG9uZW50cy9nbG9iYWwvaGVhZGVyQnVyZ2VyLmpzXG5jbGFzcyBIZWFkZXJCdXJnZXJ7XHJcbiAgICBjb25zdHJ1Y3RvcihidXJnZXIsIHBvcHVwKSB7XHJcbiAgICAgICAgdGhpcy5idXJnZXIgPSBidXJnZXJcclxuICAgICAgICB0aGlzLnBvcHVwID0gcG9wdXBcclxuICAgICAgICB0aGlzLmJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57dGhpcy5idXJnZXJGdW5jdGlvbigpfSlcclxuICAgICAgICB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9Pnt0aGlzLmNsb3NlRnVuY3Rpb24oKX0pXHJcbiAgICB9XHJcbiAgICBidXJnZXJGdW5jdGlvbigpe1xyXG4gICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbiAgICB9XHJcbiAgICBjbG9zZUZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgIH1cclxufVxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvanMvY29tcG9uZW50cy9nbG9iYWwvaGVhZGVyTGFuZ3VhZ2UuanNcbmNsYXNzIGhlYWRlckxhbmd1YWdle1xyXG4gICAgY29uc3RydWN0b3IobGFuZ3VhZ2VCbG9jaykge1xyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2VCbG9jayA9IGxhbmd1YWdlQmxvY2tcclxuICAgICAgICB0aGlzLmxhbmd1YWdlTGlzdCA9IHRoaXMubGFuZ3VhZ2VCbG9jay5xdWVyeVNlbGVjdG9yKCd1bCcpXHJcbiAgICAgICAgdGhpcy5sYW5ndWFnZUJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3RoaXMuc2hvd0Jsb2NrKCl9KVxyXG4gICAgfVxyXG4gICAgc2hvd0Jsb2NrKCl7XHJcbiAgICAgICAgbGV0IGNsb3NlQmxvY2sgPSAoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlTGlzdC5zdHlsZS5oZWlnaHQgPSBgMGBcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VCbG9jaylcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGJsb2NrSGVpZ2h0ID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5sYW5ndWFnZUxpc3QpLmdldFByb3BlcnR5VmFsdWUoJ2hlaWdodCcpKVxyXG4gICAgICAgIGlmIChibG9ja0hlaWdodCA9PT0gMCl7XHJcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2VMaXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMubGFuZ3VhZ2VMaXN0LnNjcm9sbEhlaWdodH1weGBcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VCbG9jaylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlTGlzdC5zdHlsZS5oZWlnaHQgPSBgMGBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL2luZGV4LmpzXG5cclxuXHJcblxyXG5cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9wLWJsb2NrIC52aWRlbyB2aWRlbycpKSB7XHJcbiAgICBuZXcgdG9wX2Jsb2NrX3ZpZGVvW1wiYVwiIC8qIGRlZmF1bHQgKi9dKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3AtYmxvY2sgLnZpZGVvIHZpZGVvJyksIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3AtYmxvY2sgLnZpZGVvIC5wbGF5LWJ0bicpKVxyXG59XHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlci1mdWxsLXBhZ2UnKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyLWZ1bGwtcGFnZScpLmZvckVhY2goIHNsaWRlciA9PiB7XHJcbiAgICAgICAgbGV0IHNsaWRlckNvbnRhaW5lciA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJylcclxuICAgICAgICBsZXQgc2llbWEgPSBuZXcgU2llbWEoe1xyXG4gICAgICAgICAgICBzZWxlY3Rvcjogc2xpZGVyQ29udGFpbmVyLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlLW91dCcsXHJcbiAgICAgICAgICAgIHBlclBhZ2U6IHtcclxuICAgICAgICAgICAgICAgIDA6IDEsXHJcbiAgICAgICAgICAgICAgICAxMDI0OiAyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0YXJ0SW5kZXg6IDEsXHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIG11bHRpcGxlRHJhZzogdHJ1ZSxcclxuICAgICAgICAgICAgdGhyZXNob2xkOiAyMCxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJ0bDogZmFsc2UsXHJcbiAgICAgICAgICAgIG9uSW5pdDogZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2Nykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3Iuc3R5bGUub3ZlcmZsb3cgPSAnaW5pdGlhbCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlJykuZm9yRWFjaCggKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgZG90LmNsYXNzTGlzdC5hZGQoJ2RvdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgZG90LmlubmVyVGV4dCA9IGVsZW0ucXVlcnlTZWxlY3RvcignLm5hbWUnKS5pbm5lckhUTUxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLmRvdHMnKS5hcHBlbmRDaGlsZChkb3QpXHJcbiAgICAgICAgICAgICAgICAgICAgZG90LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntzaWVtYS5nb1RvKGluZGV4KX0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLnNsaWRlci1idG5zIC5idG4tbGVmdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntzaWVtYS5wcmV2KCl9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLnNsaWRlci1idG5zIC5idG4tcmlnaHQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEubmV4dCgpfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3IuY2xvc2VzdCgnLnRhYicpLnF1ZXJ5U2VsZWN0b3IoJy5kb3QuY3VycmVudCcpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuZG90LmN1cnJlbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50JylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IuY2xvc2VzdCgnLnRhYicpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kb3QnKVtzaWVtYS5jdXJyZW50U2xpZGVdLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItZnVsbC1wYWdlLXNvbG8nKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyLWZ1bGwtcGFnZS1zb2xvJykuZm9yRWFjaCggc2xpZGVyID0+IHtcclxuICAgICAgICBsZXQgc2xpZGVyQ29udGFpbmVyID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKVxyXG4gICAgICAgIGxldCBzaWVtYSA9IG5ldyBTaWVtYSh7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiBzbGlkZXJDb250YWluZXIsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXHJcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2Utb3V0JyxcclxuICAgICAgICAgICAgcGVyUGFnZTogMSxcclxuICAgICAgICAgICAgc3RhcnRJbmRleDogMCxcclxuICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgbXVsdGlwbGVEcmFnOiBmYWxzZSxcclxuICAgICAgICAgICAgdGhyZXNob2xkOiAyMCxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJ0bDogZmFsc2UsXHJcbiAgICAgICAgICAgIG9uSW5pdDogZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA+IDExOTkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLnN0eWxlLm92ZXJmbG93ID0gJ2luaXRpYWwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZScpLmZvckVhY2goIChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgIGRvdC5jbGFzc0xpc3QuYWRkKCdkb3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIGRvdC5pbm5lclRleHQgPSBlbGVtLmRhdGFzZXQuZG90TmFtZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IuY2xvc2VzdCgnLnRhYicpLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItYnRucyAuZG90cycpLmFwcGVuZENoaWxkKGRvdClcclxuICAgICAgICAgICAgICAgICAgICBkb3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLmdvVG8oaW5kZXgpfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLmJ0bi1sZWZ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLnByZXYoKX0pXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLmJ0bi1yaWdodCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntzaWVtYS5uZXh0KCl9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuc2xpZGUuY3VycmVudCcpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZS5jdXJyZW50JykuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZScpW3NpZW1hLmN1cnJlbnRTbGlkZV0uY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLmRvdC5jdXJyZW50Jykpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IuY2xvc2VzdCgnLnRhYicpLnF1ZXJ5U2VsZWN0b3IoJy5kb3QuY3VycmVudCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvckFsbCgnLmRvdCcpW3NpZW1hLmN1cnJlbnRTbGlkZV0uY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpXHJcbiAgICAgICAgICAgICAgICBsZXQgaW1nID0gdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcuc2xpZGVyLWZ1bGwtcGFnZS1zb2xvJykucXVlcnlTZWxlY3RvcignLmJnLWltZyBpbWcnKVxyXG4gICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9wYWNpdHkgPSAnMCdcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gdGhpcy5zZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUnKVtzaWVtYS5jdXJyZW50U2xpZGVdLmRhdGFzZXQuaW1nXHJcbiAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9wYWNpdHkgPSAnMSdcclxuICAgICAgICAgICAgICAgIH0sIDE1MClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFicycpLmZvckVhY2goIHRhYnMgPT4ge1xyXG4gICAgbmV3IGNvbXBvbmVudHNfdGFic1tcImFcIiAvKiBkZWZhdWx0ICovXSh0YWJzLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItbGlua3MgLnRhYicpLCB0YWJzLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYmxvY2tzIC50YWInKSlcclxufSlcclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tbWVudHMgLnNsaWRlcicpKXtcclxuICAgIGxldCBzaWVtYSA9IG5ldyBTaWVtYSh7XHJcbiAgICAgICAgc2VsZWN0b3I6ICcuY29tbWVudHMgLnNsaWRlcicsXHJcbiAgICAgICAgZHVyYXRpb246IDMwMCxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlLW91dCcsXHJcbiAgICAgICAgcGVyUGFnZTogMSxcclxuICAgICAgICBzdGFydEluZGV4OiAwLFxyXG4gICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgICBtdWx0aXBsZURyYWc6IGZhbHNlLFxyXG4gICAgICAgIHRocmVzaG9sZDogMjAsXHJcbiAgICAgICAgbG9vcDogZmFsc2UsXHJcbiAgICAgICAgcnRsOiBmYWxzZSxcclxuICAgICAgICBvbkluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcuY29tbWVudHMnKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLmxlZnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEucHJldigpfSlcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcuY29tbWVudHMnKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLnJpZ2h0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLm5leHQoKX0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXInKSkge1xyXG4gICAgbmV3IEhlYWRlckJ1cmdlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLWJ1cmdlcicpLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm90dG9tLWhlYWRlcicpKVxyXG5cclxuICAgIG5ldyBoZWFkZXJMYW5ndWFnZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyIC5sYW5ndWFnZScpKVxyXG59XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTsiXSwiZmlsZSI6Im1haW4tbWluLmpzIn0=
