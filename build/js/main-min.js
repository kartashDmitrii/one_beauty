(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=2)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return videoPlayer});class videoPlayer{constructor(video,button){this.video=video;this.button=button;if(this.video.parentNode.querySelector(".poster")){this.poster=this.video.parentNode.querySelector(".poster")}this.button.addEventListener("click",()=>{this.playVideo()})}playVideo(){if(this.video.paused){if(this.poster){this.poster.style.display="none"}this.video.play();this.button.classList.add("active")}else{this.video.pause();this.button.classList.remove("active")}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Tabs});class Tabs{constructor(btnArrow,tabArrow){this.btnArrow=btnArrow;this.tabArrow=tabArrow;this.btnArrow.forEach((elem,index)=>{elem.addEventListener("click",()=>this.switchTab(index))})}switchTab(index){this.btnArrow.forEach(btn=>{btn.classList.remove("current")});this.btnArrow[index].classList.add("current");this.tabArrow.forEach(tab=>{tab.classList.remove("current")});this.tabArrow[index].classList.add("current")}}},function(module,exports,__webpack_require__){__webpack_require__(3);module.exports=__webpack_require__(4)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_global_top_block_video__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _components_tabs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);if(document.querySelector(".top-video-block .video video")){new _components_global_top_block_video__WEBPACK_IMPORTED_MODULE_0__["a"](document.querySelector(".top-video-block .video video"),document.querySelector(".top-video-block .video .play-btn"))}if(document.querySelector(".our-specialists .slider")){document.querySelectorAll(".our-specialists .slider").forEach(slider=>{let siema=new Siema({selector:slider,duration:200,easing:"ease-out",perPage:{0:1,1024:3},startIndex:1,draggable:true,multipleDrag:true,threshold:20,loop:false,rtl:false,onInit:function(){this.selector.closest("section").querySelector(".slider-btns .btn-left").addEventListener("click",()=>{siema.prev()});this.selector.closest("section").querySelector(".slider-btns .btn-right").addEventListener("click",()=>{siema.next()})},onChange:function(){}})})}document.querySelectorAll(".tabs").forEach(tabs=>{new _components_tabs__WEBPACK_IMPORTED_MODULE_1__["a"](tabs.querySelectorAll(".tab-links .tab"),tabs.querySelectorAll(".tab-blocks .tab"))})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var top_block_video=__webpack_require__(0);var components_tabs=__webpack_require__(1);class HeaderBurger{constructor(burger,popup,close){this.burger=burger;this.flag=Array.isArray(popup);this.popup=popup;this.close=close;this.burger.addEventListener("click",()=>{this.burgerFunction()});this.close.addEventListener("click",()=>{this.closeFunction()})}burgerFunction(){if(this.flag){this.popup.forEach(elem=>{elem.classList.add("active")})}else{this.popup.classList.add("active")}document.body.classList.add("hidden")}closeFunction(){if(this.flag){this.popup.forEach(elem=>{elem.classList.remove("active")})}else{this.popup.classList.remove("active")}document.body.classList.remove("hidden")}}class headerLanguage{constructor(languageBlock){this.languageBlock=languageBlock;this.languageList=this.languageBlock.querySelector("ul");this.languageBlock.querySelector(".current").addEventListener("click",()=>{this.showBlock()})}showBlock(){let closeBlock=()=>{this.languageList.style.height=`0`;window.removeEventListener("click",closeBlock)};let blockHeight=parseInt(window.getComputedStyle(this.languageList).getPropertyValue("height"));if(blockHeight===0){this.languageList.style.height=`${this.languageList.scrollHeight}px`;setTimeout(()=>{window.addEventListener("click",closeBlock)})}else{this.languageList.style.height=`0`}}}if(document.querySelector(".top-block .video video")){new top_block_video["a"](document.querySelector(".top-block .video video"),document.querySelector(".top-block .video .play-btn"))}if(document.querySelector(".slider-full-page")){document.querySelectorAll(".slider-full-page").forEach(slider=>{let sliderContainer=slider.querySelector(".container");let siema=new Siema({selector:sliderContainer,duration:200,easing:"ease-out",perPage:{0:1,1024:2},startIndex:1,draggable:false,multipleDrag:true,threshold:20,loop:false,rtl:false,onInit:function(){if(window.screen.width<767){this.selector.style.overflow="initial"}this.selector.querySelectorAll(".slide").forEach((elem,index)=>{let dot=document.createElement("button");dot.classList.add("dot");dot.innerText=elem.querySelector(".name").innerHTML;this.selector.closest(".tab").querySelector(".slider-btns .dots").appendChild(dot);dot.addEventListener("click",()=>{siema.goTo(index)})});this.selector.closest(".tab").querySelector(".slider-btns .btn-left").addEventListener("click",()=>{siema.prev()});this.selector.closest(".tab").querySelector(".slider-btns .btn-right").addEventListener("click",()=>{siema.next()})},onChange:function(){if(this.selector.closest(".tab").querySelector(".dot.current")){this.selector.closest(".tab").querySelector(".dot.current").classList.remove("current")}this.selector.closest(".tab").querySelectorAll(".dot")[siema.currentSlide].classList.add("current")}})})}if(document.querySelector(".slider-full-page-solo")){document.querySelectorAll(".slider-full-page-solo").forEach(slider=>{let sliderContainer=slider.querySelector(".container");let siema=new Siema({selector:sliderContainer,duration:300,easing:"ease-out",perPage:1,startIndex:0,draggable:false,multipleDrag:false,threshold:20,loop:false,rtl:false,onInit:function(){if(window.screen.width>1199){this.selector.style.overflow="initial"}this.selector.querySelectorAll(".slide").forEach((elem,index)=>{let dot=document.createElement("button");dot.classList.add("dot");dot.innerText=elem.dataset.dotName;this.selector.closest(".tab").querySelector(".slider-btns .dots").appendChild(dot);dot.addEventListener("click",()=>{siema.goTo(index)})});this.selector.closest(".tab").querySelector(".slider-btns .btn-left").addEventListener("click",()=>{siema.prev()});this.selector.closest(".tab").querySelector(".slider-btns .btn-right").addEventListener("click",()=>{siema.next()})},onChange:function(){if(this.selector.querySelector(".slide.current")){this.selector.querySelector(".slide.current").classList.remove("current")}this.selector.querySelectorAll(".slide")[siema.currentSlide].classList.add("current");if(this.selector.closest(".tab").querySelector(".dot.current")){this.selector.closest(".tab").querySelector(".dot.current").classList.remove("current")}this.selector.closest(".tab").querySelectorAll(".dot")[siema.currentSlide].classList.add("current");let img=this.selector.closest(".slider-full-page-solo").querySelector(".bg-img img");img.style.opacity="0";setTimeout(()=>{img.src=this.selector.querySelectorAll(".slide")[siema.currentSlide].dataset.img;img.style.opacity="1"},150)}})})}document.querySelectorAll(".tabs").forEach(tabs=>{new components_tabs["a"](tabs.querySelectorAll(".tab-links .tab"),tabs.querySelectorAll(".tab-blocks .tab"))});if(document.querySelector(".comments .slider")){let siema=new Siema({selector:".comments .slider",duration:300,easing:"ease-out",perPage:1,startIndex:0,draggable:true,multipleDrag:false,threshold:20,loop:false,rtl:false,onInit:function(){this.selector.closest(".comments").querySelector(".slider-btns .left").addEventListener("click",()=>{siema.prev()});this.selector.closest(".comments").querySelector(".slider-btns .right").addEventListener("click",()=>{siema.next()})},onChange:function(){}})}if(document.querySelector("header")){new HeaderBurger(document.querySelector(".mobile-burger"),[...document.querySelectorAll("header .mobile")],document.querySelector("header .close"));if(window.screen.width>576){new headerLanguage(document.querySelector(".header .language"))}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJ2aWRlb1BsYXllciIsIltvYmplY3QgT2JqZWN0XSIsInZpZGVvIiwiYnV0dG9uIiwidGhpcyIsInBhcmVudE5vZGUiLCJxdWVyeVNlbGVjdG9yIiwicG9zdGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBsYXlWaWRlbyIsInBhdXNlZCIsInN0eWxlIiwiZGlzcGxheSIsInBsYXkiLCJjbGFzc0xpc3QiLCJhZGQiLCJwYXVzZSIsInJlbW92ZSIsIlRhYnMiLCJidG5BcnJvdyIsInRhYkFycm93IiwiZm9yRWFjaCIsImVsZW0iLCJpbmRleCIsInN3aXRjaFRhYiIsImJ0biIsInRhYiIsIl9jb21wb25lbnRzX2dsb2JhbF90b3BfYmxvY2tfdmlkZW9fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9jb21wb25lbnRzX3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInNsaWRlciIsInNpZW1hIiwiU2llbWEiLCJzZWxlY3RvciIsImR1cmF0aW9uIiwiZWFzaW5nIiwicGVyUGFnZSIsIjAiLCIxMDI0Iiwic3RhcnRJbmRleCIsImRyYWdnYWJsZSIsIm11bHRpcGxlRHJhZyIsInRocmVzaG9sZCIsImxvb3AiLCJydGwiLCJvbkluaXQiLCJjbG9zZXN0IiwicHJldiIsIm5leHQiLCJvbkNoYW5nZSIsInRhYnMiLCJ0b3BfYmxvY2tfdmlkZW8iLCJjb21wb25lbnRzX3RhYnMiLCJIZWFkZXJCdXJnZXIiLCJidXJnZXIiLCJwb3B1cCIsImNsb3NlIiwiZmxhZyIsIkFycmF5IiwiaXNBcnJheSIsImJ1cmdlckZ1bmN0aW9uIiwiY2xvc2VGdW5jdGlvbiIsImJvZHkiLCJoZWFkZXJMYW5ndWFnZSIsImxhbmd1YWdlQmxvY2siLCJsYW5ndWFnZUxpc3QiLCJzaG93QmxvY2siLCJjbG9zZUJsb2NrIiwiaGVpZ2h0Iiwid2luZG93IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImJsb2NrSGVpZ2h0IiwicGFyc2VJbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNjcm9sbEhlaWdodCIsInNldFRpbWVvdXQiLCJzbGlkZXJDb250YWluZXIiLCJzY3JlZW4iLCJ3aWR0aCIsIm92ZXJmbG93IiwiZG90IiwiY3JlYXRlRWxlbWVudCIsImlubmVyVGV4dCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiZ29UbyIsImN1cnJlbnRTbGlkZSIsImRhdGFzZXQiLCJkb3ROYW1lIiwiaW1nIiwib3BhY2l0eSIsInNyYyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsU0FFVCxJQUFJQyxpQkFBbUIsR0FHdkIsU0FBU0Msb0JBQW9CQyxVQUc1QixHQUFHRixpQkFBaUJFLFVBQVcsQ0FDOUIsT0FBT0YsaUJBQWlCRSxVQUFVQyxRQUduQyxJQUFJQyxPQUFTSixpQkFBaUJFLFVBQVksQ0FDekNHLEVBQUdILFNBQ0hJLEVBQUcsTUFDSEgsUUFBUyxJQUlWSixRQUFRRyxVQUFVSyxLQUFLSCxPQUFPRCxRQUFTQyxPQUFRQSxPQUFPRCxRQUFTRixxQkFHL0RHLE9BQU9FLEVBQUksS0FHWCxPQUFPRixPQUFPRCxRQUtmRixvQkFBb0JPLEVBQUlULFFBR3hCRSxvQkFBb0JRLEVBQUlULGlCQUd4QkMsb0JBQW9CUyxFQUFJLFNBQVNQLFFBQVNRLEtBQU1DLFFBQy9DLElBQUlYLG9CQUFvQlksRUFBRVYsUUFBU1EsTUFBTyxDQUN6Q0csT0FBT0MsZUFBZVosUUFBU1EsS0FBTSxDQUFFSyxXQUFZLEtBQU1DLElBQUtMLFdBS2hFWCxvQkFBb0JpQixFQUFJLFNBQVNmLFNBQ2hDLFVBQVVnQixTQUFXLGFBQWVBLE9BQU9DLFlBQWEsQ0FDdkROLE9BQU9DLGVBQWVaLFFBQVNnQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWVaLFFBQVMsYUFBYyxDQUFFa0IsTUFBTyxRQVF2RHBCLG9CQUFvQnFCLEVBQUksU0FBU0QsTUFBT0UsTUFDdkMsR0FBR0EsS0FBTyxFQUFHRixNQUFRcEIsb0JBQW9Cb0IsT0FDekMsR0FBR0UsS0FBTyxFQUFHLE9BQU9GLE1BQ3BCLEdBQUlFLEtBQU8sVUFBYUYsUUFBVSxVQUFZQSxPQUFTQSxNQUFNRyxXQUFZLE9BQU9ILE1BQ2hGLElBQUlJLEdBQUtYLE9BQU9ZLE9BQU8sTUFDdkJ6QixvQkFBb0JpQixFQUFFTyxJQUN0QlgsT0FBT0MsZUFBZVUsR0FBSSxVQUFXLENBQUVULFdBQVksS0FBTUssTUFBT0EsUUFDaEUsR0FBR0UsS0FBTyxVQUFZRixPQUFTLFNBQVUsSUFBSSxJQUFJTSxPQUFPTixNQUFPcEIsb0JBQW9CUyxFQUFFZSxHQUFJRSxJQUFLLFNBQVNBLEtBQU8sT0FBT04sTUFBTU0sTUFBUUMsS0FBSyxLQUFNRCxNQUM5SSxPQUFPRixJQUlSeEIsb0JBQW9CNEIsRUFBSSxTQUFTekIsUUFDaEMsSUFBSVEsT0FBU1IsUUFBVUEsT0FBT29CLFdBQzdCLFNBQVNNLGFBQWUsT0FBTzFCLE9BQU8sWUFDdEMsU0FBUzJCLG1CQUFxQixPQUFPM0IsUUFDdENILG9CQUFvQlMsRUFBRUUsT0FBUSxJQUFLQSxRQUNuQyxPQUFPQSxRQUlSWCxvQkFBb0JZLEVBQUksU0FBU21CLE9BQVFDLFVBQVksT0FBT25CLE9BQU9vQixVQUFVQyxlQUFlNUIsS0FBS3lCLE9BQVFDLFdBR3pHaEMsb0JBQW9CbUMsRUFBSSxHQUl4QixPQUFPbkMsb0JBQW9CQSxvQkFBb0JvQyxFQUFJLElBbkZwRCxDQXNGQyxDQUVKLFNBQVVqQyxPQUFRa0Msb0JBQXFCckMscUJBRTdDLGFBQytCQSxvQkFBb0JTLEVBQUU0QixvQkFBcUIsSUFBSyxXQUFhLE9BQU9DLGNBQ25HLE1BQU1BLFlBQ0ZDLFlBQVlDLE1BQU9DLFFBQ2ZDLEtBQUtGLE1BQVFBLE1BQ2JFLEtBQUtELE9BQVNBLE9BQ2QsR0FBSUMsS0FBS0YsTUFBTUcsV0FBV0MsY0FBYyxXQUFXLENBQy9DRixLQUFLRyxPQUFTSCxLQUFLRixNQUFNRyxXQUFXQyxjQUFjLFdBRXRERixLQUFLRCxPQUFPSyxpQkFBaUIsUUFBUyxLQUFLSixLQUFLSyxjQUVwRFIsWUFDSSxHQUFJRyxLQUFLRixNQUFNUSxPQUFPLENBQ2xCLEdBQUlOLEtBQUtHLE9BQU8sQ0FDWkgsS0FBS0csT0FBT0ksTUFBTUMsUUFBVSxPQUVoQ1IsS0FBS0YsTUFBTVcsT0FDWFQsS0FBS0QsT0FBT1csVUFBVUMsSUFBSSxjQUN2QixDQUNIWCxLQUFLRixNQUFNYyxRQUNYWixLQUFLRCxPQUFPVyxVQUFVRyxPQUFPLGNBT25DLFNBQVVwRCxPQUFRa0Msb0JBQXFCckMscUJBRTdDLGFBQytCQSxvQkFBb0JTLEVBQUU0QixvQkFBcUIsSUFBSyxXQUFhLE9BQU9tQixPQUNuRyxNQUFNQSxLQUNGakIsWUFBWWtCLFNBQVVDLFVBQ2xCaEIsS0FBS2UsU0FBV0EsU0FDaEJmLEtBQUtnQixTQUFXQSxTQUNoQmhCLEtBQUtlLFNBQVNFLFFBQVMsQ0FBQ0MsS0FBTUMsU0FDMUJELEtBQUtkLGlCQUFpQixRQUFTLElBQU9KLEtBQUtvQixVQUFVRCxVQUc3RHRCLFVBQVVzQixPQUNObkIsS0FBS2UsU0FBU0UsUUFBUUksTUFDbEJBLElBQUlYLFVBQVVHLE9BQU8sYUFFekJiLEtBQUtlLFNBQVNJLE9BQU9ULFVBQVVDLElBQUksV0FDbkNYLEtBQUtnQixTQUFTQyxRQUFRSyxNQUNsQkEsSUFBSVosVUFBVUcsT0FBTyxhQUV6QmIsS0FBS2dCLFNBQVNHLE9BQU9ULFVBQVVDLElBQUksY0FNckMsU0FBVWxELE9BQVFELFFBQVNGLHFCQUVqQ0Esb0JBQW9CLEdBQ3BCRyxPQUFPRCxRQUFVRixvQkFBb0IsSUFLL0IsU0FBVUcsT0FBUWtDLG9CQUFxQnJDLHFCQUU3QyxhQUNBQSxvQkFBb0JpQixFQUFFb0IscUJBQ0QsSUFBSTRCLGdFQUFrRWpFLG9CQUFvQixHQUMxRixJQUFJa0UsOENBQWdEbEUsb0JBQW9CLEdBSTdGLEdBQUltRSxTQUFTdkIsY0FBYyxpQ0FBa0MsQ0FDekQsSUFBSXFCLGdFQUE4RSxLQUFLRSxTQUFTdkIsY0FBYyxpQ0FBa0N1QixTQUFTdkIsY0FBYyxzQ0FHM0ssR0FBSXVCLFNBQVN2QixjQUFjLDRCQUE0QixDQUNuRHVCLFNBQVNDLGlCQUFpQiw0QkFBNEJULFFBQVNVLFNBQzNELElBQUlDLE1BQVEsSUFBSUMsTUFBTSxDQUNsQkMsU0FBVUgsT0FDVkksU0FBVSxJQUNWQyxPQUFRLFdBQ1JDLFFBQVMsQ0FDTEMsRUFBRyxFQUNIQyxLQUFNLEdBRVZDLFdBQVksRUFDWkMsVUFBVyxLQUNYQyxhQUFjLEtBQ2RDLFVBQVcsR0FDWEMsS0FBTSxNQUNOQyxJQUFLLE1BQ0xDLE9BQVEsV0FDSjFDLEtBQUs4QixTQUFTYSxRQUFRLFdBQVd6QyxjQUFjLDBCQUEwQkUsaUJBQWlCLFFBQVMsS0FBS3dCLE1BQU1nQixTQUM5RzVDLEtBQUs4QixTQUFTYSxRQUFRLFdBQVd6QyxjQUFjLDJCQUEyQkUsaUJBQWlCLFFBQVMsS0FBS3dCLE1BQU1pQixVQUVuSEMsU0FBVSxpQkFNdEJyQixTQUFTQyxpQkFBaUIsU0FBU1QsUUFBUzhCLE9BQ3hDLElBQUl2Qiw4Q0FBNEQsS0FBS3VCLEtBQUtyQixpQkFBaUIsbUJBQW9CcUIsS0FBS3JCLGlCQUFpQix3QkFLbkksU0FBVWpFLE9BQVFrQyxvQkFBcUJyQyxxQkFFN0MsYUFFQUEsb0JBQW9CaUIsRUFBRW9CLHFCQUd0QixJQUFJcUQsZ0JBQWtCMUYsb0JBQW9CLEdBRzFDLElBQUkyRixnQkFBa0IzRixvQkFBb0IsR0FHMUMsTUFBTTRGLGFBQ0ZyRCxZQUFZc0QsT0FBUUMsTUFBT0MsT0FDdkJyRCxLQUFLbUQsT0FBU0EsT0FDZG5ELEtBQUtzRCxLQUFPQyxNQUFNQyxRQUFRSixPQUMxQnBELEtBQUtvRCxNQUFRQSxNQUNicEQsS0FBS3FELE1BQVFBLE1BQ2JyRCxLQUFLbUQsT0FBTy9DLGlCQUFpQixRQUFTLEtBQUtKLEtBQUt5RCxtQkFDaER6RCxLQUFLcUQsTUFBTWpELGlCQUFpQixRQUFTLEtBQUtKLEtBQUswRCxrQkFFbkQ3RCxpQkFDSSxHQUFJRyxLQUFLc0QsS0FBSyxDQUNWdEQsS0FBS29ELE1BQU1uQyxRQUFTQyxPQUNsQkEsS0FBS1IsVUFBVUMsSUFBSSxnQkFFbEIsQ0FDSFgsS0FBS29ELE1BQU0xQyxVQUFVQyxJQUFJLFVBRTdCYyxTQUFTa0MsS0FBS2pELFVBQVVDLElBQUksVUFFaENkLGdCQUNJLEdBQUlHLEtBQUtzRCxLQUFLLENBQ1Z0RCxLQUFLb0QsTUFBTW5DLFFBQVNDLE9BQ2hCQSxLQUFLUixVQUFVRyxPQUFPLGdCQUV2QixDQUNIYixLQUFLb0QsTUFBTTFDLFVBQVVHLE9BQU8sVUFFaENZLFNBQVNrQyxLQUFLakQsVUFBVUcsT0FBTyxXQUl2QyxNQUFNK0MsZUFDRi9ELFlBQVlnRSxlQUNSN0QsS0FBSzZELGNBQWdCQSxjQUNyQjdELEtBQUs4RCxhQUFlOUQsS0FBSzZELGNBQWMzRCxjQUFjLE1BQ3JERixLQUFLNkQsY0FBYzNELGNBQWMsWUFBWUUsaUJBQWlCLFFBQVMsS0FBS0osS0FBSytELGNBRXJGbEUsWUFDSSxJQUFJbUUsV0FBYSxLQUNiaEUsS0FBSzhELGFBQWF2RCxNQUFNMEQsV0FDeEJDLE9BQU9DLG9CQUFvQixRQUFTSCxhQUV4QyxJQUFJSSxZQUFjQyxTQUFTSCxPQUFPSSxpQkFBaUJ0RSxLQUFLOEQsY0FBY1MsaUJBQWlCLFdBQ3ZGLEdBQUlILGNBQWdCLEVBQUUsQ0FDbEJwRSxLQUFLOEQsYUFBYXZELE1BQU0wRCxVQUFZakUsS0FBSzhELGFBQWFVLGlCQUN0REMsV0FBVyxLQUNQUCxPQUFPOUQsaUJBQWlCLFFBQVM0RCxrQkFFbEMsQ0FDSGhFLEtBQUs4RCxhQUFhdkQsTUFBTTBELGFBVXBDLEdBQUl4QyxTQUFTdkIsY0FBYywyQkFBNEIsQ0FDbkQsSUFBSThDLGdCQUFnQixLQUFtQnZCLFNBQVN2QixjQUFjLDJCQUE0QnVCLFNBQVN2QixjQUFjLGdDQUdySCxHQUFJdUIsU0FBU3ZCLGNBQWMscUJBQXFCLENBQzVDdUIsU0FBU0MsaUJBQWlCLHFCQUFxQlQsUUFBU1UsU0FDcEQsSUFBSStDLGdCQUFrQi9DLE9BQU96QixjQUFjLGNBQzNDLElBQUkwQixNQUFRLElBQUlDLE1BQU0sQ0FDbEJDLFNBQVU0QyxnQkFDVjNDLFNBQVUsSUFDVkMsT0FBUSxXQUNSQyxRQUFTLENBQ0xDLEVBQUcsRUFDSEMsS0FBTSxHQUVWQyxXQUFZLEVBQ1pDLFVBQVcsTUFDWEMsYUFBYyxLQUNkQyxVQUFXLEdBQ1hDLEtBQU0sTUFDTkMsSUFBSyxNQUNMQyxPQUFRLFdBQ0osR0FBSXdCLE9BQU9TLE9BQU9DLE1BQVEsSUFBSyxDQUMzQjVFLEtBQUs4QixTQUFTdkIsTUFBTXNFLFNBQVcsVUFFbkM3RSxLQUFLOEIsU0FBU0osaUJBQWlCLFVBQVVULFFBQVMsQ0FBQ0MsS0FBTUMsU0FDckQsSUFBSTJELElBQU1yRCxTQUFTc0QsY0FBYyxVQUNqQ0QsSUFBSXBFLFVBQVVDLElBQUksT0FDbEJtRSxJQUFJRSxVQUFZOUQsS0FBS2hCLGNBQWMsU0FBUytFLFVBQzVDakYsS0FBSzhCLFNBQVNhLFFBQVEsUUFBUXpDLGNBQWMsc0JBQXNCZ0YsWUFBWUosS0FDOUVBLElBQUkxRSxpQkFBaUIsUUFBUyxLQUFLd0IsTUFBTXVELEtBQUtoRSxXQUVsRG5CLEtBQUs4QixTQUFTYSxRQUFRLFFBQVF6QyxjQUFjLDBCQUEwQkUsaUJBQWlCLFFBQVMsS0FBS3dCLE1BQU1nQixTQUMzRzVDLEtBQUs4QixTQUFTYSxRQUFRLFFBQVF6QyxjQUFjLDJCQUEyQkUsaUJBQWlCLFFBQVMsS0FBS3dCLE1BQU1pQixVQUVoSEMsU0FBVSxXQUNOLEdBQUk5QyxLQUFLOEIsU0FBU2EsUUFBUSxRQUFRekMsY0FBYyxnQkFBZ0IsQ0FDNURGLEtBQUs4QixTQUFTYSxRQUFRLFFBQVF6QyxjQUFjLGdCQUFnQlEsVUFBVUcsT0FBTyxXQUVqRmIsS0FBSzhCLFNBQVNhLFFBQVEsUUFBUWpCLGlCQUFpQixRQUFRRSxNQUFNd0QsY0FBYzFFLFVBQVVDLElBQUksZ0JBS3pHLEdBQUljLFNBQVN2QixjQUFjLDBCQUEwQixDQUNqRHVCLFNBQVNDLGlCQUFpQiwwQkFBMEJULFFBQVNVLFNBQ3pELElBQUkrQyxnQkFBa0IvQyxPQUFPekIsY0FBYyxjQUMzQyxJQUFJMEIsTUFBUSxJQUFJQyxNQUFNLENBQ2xCQyxTQUFVNEMsZ0JBQ1YzQyxTQUFVLElBQ1ZDLE9BQVEsV0FDUkMsUUFBUyxFQUNURyxXQUFZLEVBQ1pDLFVBQVcsTUFDWEMsYUFBYyxNQUNkQyxVQUFXLEdBQ1hDLEtBQU0sTUFDTkMsSUFBSyxNQUNMQyxPQUFRLFdBQ0osR0FBSXdCLE9BQU9TLE9BQU9DLE1BQVEsS0FBTSxDQUM1QjVFLEtBQUs4QixTQUFTdkIsTUFBTXNFLFNBQVcsVUFFbkM3RSxLQUFLOEIsU0FBU0osaUJBQWlCLFVBQVVULFFBQVMsQ0FBQ0MsS0FBTUMsU0FDckQsSUFBSTJELElBQU1yRCxTQUFTc0QsY0FBYyxVQUNqQ0QsSUFBSXBFLFVBQVVDLElBQUksT0FDbEJtRSxJQUFJRSxVQUFZOUQsS0FBS21FLFFBQVFDLFFBQzdCdEYsS0FBSzhCLFNBQVNhLFFBQVEsUUFBUXpDLGNBQWMsc0JBQXNCZ0YsWUFBWUosS0FDOUVBLElBQUkxRSxpQkFBaUIsUUFBUyxLQUFLd0IsTUFBTXVELEtBQUtoRSxXQUVsRG5CLEtBQUs4QixTQUFTYSxRQUFRLFFBQVF6QyxjQUFjLDBCQUEwQkUsaUJBQWlCLFFBQVMsS0FBS3dCLE1BQU1nQixTQUMzRzVDLEtBQUs4QixTQUFTYSxRQUFRLFFBQVF6QyxjQUFjLDJCQUEyQkUsaUJBQWlCLFFBQVMsS0FBS3dCLE1BQU1pQixVQUVoSEMsU0FBVSxXQUNOLEdBQUk5QyxLQUFLOEIsU0FBUzVCLGNBQWMsa0JBQWtCLENBQzlDRixLQUFLOEIsU0FBUzVCLGNBQWMsa0JBQWtCUSxVQUFVRyxPQUFPLFdBRW5FYixLQUFLOEIsU0FBU0osaUJBQWlCLFVBQVVFLE1BQU13RCxjQUFjMUUsVUFBVUMsSUFBSSxXQUMzRSxHQUFJWCxLQUFLOEIsU0FBU2EsUUFBUSxRQUFRekMsY0FBYyxnQkFBZ0IsQ0FDNURGLEtBQUs4QixTQUFTYSxRQUFRLFFBQVF6QyxjQUFjLGdCQUFnQlEsVUFBVUcsT0FBTyxXQUVqRmIsS0FBSzhCLFNBQVNhLFFBQVEsUUFBUWpCLGlCQUFpQixRQUFRRSxNQUFNd0QsY0FBYzFFLFVBQVVDLElBQUksV0FDekYsSUFBSTRFLElBQU12RixLQUFLOEIsU0FBU2EsUUFBUSwwQkFBMEJ6QyxjQUFjLGVBQ3hFcUYsSUFBSWhGLE1BQU1pRixRQUFVLElBQ3BCZixXQUFXLEtBQ1BjLElBQUlFLElBQU16RixLQUFLOEIsU0FBU0osaUJBQWlCLFVBQVVFLE1BQU13RCxjQUFjQyxRQUFRRSxJQUMvRUEsSUFBSWhGLE1BQU1pRixRQUFVLEtBQ3JCLFVBTW5CL0QsU0FBU0MsaUJBQWlCLFNBQVNULFFBQVM4QixPQUN4QyxJQUFJRSxnQkFBZ0IsS0FBbUJGLEtBQUtyQixpQkFBaUIsbUJBQW9CcUIsS0FBS3JCLGlCQUFpQix1QkFHM0csR0FBSUQsU0FBU3ZCLGNBQWMscUJBQXFCLENBQzVDLElBQUkwQixNQUFRLElBQUlDLE1BQU0sQ0FDbEJDLFNBQVUsb0JBQ1ZDLFNBQVUsSUFDVkMsT0FBUSxXQUNSQyxRQUFTLEVBQ1RHLFdBQVksRUFDWkMsVUFBVyxLQUNYQyxhQUFjLE1BQ2RDLFVBQVcsR0FDWEMsS0FBTSxNQUNOQyxJQUFLLE1BQ0xDLE9BQVEsV0FDSjFDLEtBQUs4QixTQUFTYSxRQUFRLGFBQWF6QyxjQUFjLHNCQUFzQkUsaUJBQWlCLFFBQVMsS0FBS3dCLE1BQU1nQixTQUM1RzVDLEtBQUs4QixTQUFTYSxRQUFRLGFBQWF6QyxjQUFjLHVCQUF1QkUsaUJBQWlCLFFBQVMsS0FBS3dCLE1BQU1pQixVQUVqSEMsU0FBVSxlQUtsQixHQUFJckIsU0FBU3ZCLGNBQWMsVUFBVyxDQUNsQyxJQUFJZ0QsYUFBYXpCLFNBQVN2QixjQUFjLGtCQUFtQixJQUFJdUIsU0FBU0MsaUJBQWlCLG1CQUFvQkQsU0FBU3ZCLGNBQWMsa0JBQ3BJLEdBQUlnRSxPQUFPUyxPQUFPQyxNQUFRLElBQUssQ0FDM0IsSUFBSWhCLGVBQWVuQyxTQUFTdkIsY0FBYyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFcIiwgZnVuY3Rpb24oKSB7IHJldHVybiB2aWRlb1BsYXllcjsgfSk7XG5jbGFzcyB2aWRlb1BsYXllciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih2aWRlbywgYnV0dG9uKSB7XHJcbiAgICAgICAgdGhpcy52aWRlbyA9IHZpZGVvO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uID0gYnV0dG9uO1xyXG4gICAgICAgIGlmICh0aGlzLnZpZGVvLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLnBvc3RlcicpKXtcclxuICAgICAgICAgICAgdGhpcy5wb3N0ZXIgPSB0aGlzLnZpZGVvLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLnBvc3RlcicpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9Pnt0aGlzLnBsYXlWaWRlbygpfSlcclxuICAgIH1cclxuICAgIHBsYXlWaWRlbygpe1xyXG4gICAgICAgIGlmICh0aGlzLnZpZGVvLnBhdXNlZCl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvc3Rlcil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc3Rlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy52aWRlby5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFRhYnM7IH0pO1xuY2xhc3MgVGFic3tcclxuICAgIGNvbnN0cnVjdG9yKGJ0bkFycm93LCB0YWJBcnJvdykge1xyXG4gICAgICAgIHRoaXMuYnRuQXJyb3cgPSBidG5BcnJvd1xyXG4gICAgICAgIHRoaXMudGFiQXJyb3cgPSB0YWJBcnJvd1xyXG4gICAgICAgIHRoaXMuYnRuQXJyb3cuZm9yRWFjaCggKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiAodGhpcy5zd2l0Y2hUYWIoaW5kZXgpKSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgc3dpdGNoVGFiKGluZGV4KXtcclxuICAgICAgICB0aGlzLmJ0bkFycm93LmZvckVhY2goYnRuID0+e1xyXG4gICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLmJ0bkFycm93W2luZGV4XS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50JylcclxuICAgICAgICB0aGlzLnRhYkFycm93LmZvckVhY2godGFiID0+e1xyXG4gICAgICAgICAgICB0YWIuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLnRhYkFycm93W2luZGV4XS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50JylcclxuICAgIH1cclxufVxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX2NvbXBvbmVudHNfZ2xvYmFsX3RvcF9ibG9ja192aWRlb19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c190YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHJcblxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3AtdmlkZW8tYmxvY2sgLnZpZGVvIHZpZGVvJykpIHtcclxuICAgIG5ldyBfY29tcG9uZW50c19nbG9iYWxfdG9wX2Jsb2NrX3ZpZGVvX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19bLyogZGVmYXVsdCAqLyBcImFcIl0oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvcC12aWRlby1ibG9jayAudmlkZW8gdmlkZW8nKSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvcC12aWRlby1ibG9jayAudmlkZW8gLnBsYXktYnRuJykpXHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3VyLXNwZWNpYWxpc3RzIC5zbGlkZXInKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3VyLXNwZWNpYWxpc3RzIC5zbGlkZXInKS5mb3JFYWNoKCBzbGlkZXIgPT4ge1xyXG4gICAgICAgIGxldCBzaWVtYSA9IG5ldyBTaWVtYSh7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiBzbGlkZXIsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAsXHJcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2Utb3V0JyxcclxuICAgICAgICAgICAgcGVyUGFnZToge1xyXG4gICAgICAgICAgICAgICAgMDogMSxcclxuICAgICAgICAgICAgICAgIDEwMjQ6IDNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3RhcnRJbmRleDogMSxcclxuICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBtdWx0aXBsZURyYWc6IHRydWUsXHJcbiAgICAgICAgICAgIHRocmVzaG9sZDogMjAsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgICAgICBydGw6IGZhbHNlLFxyXG4gICAgICAgICAgICBvbkluaXQ6IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCdzZWN0aW9uJykucXVlcnlTZWxlY3RvcignLnNsaWRlci1idG5zIC5idG4tbGVmdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntzaWVtYS5wcmV2KCl9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCdzZWN0aW9uJykucXVlcnlTZWxlY3RvcignLnNsaWRlci1idG5zIC5idG4tcmlnaHQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEubmV4dCgpfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzJykuZm9yRWFjaCggdGFicyA9PiB7XHJcbiAgICBuZXcgX2NvbXBvbmVudHNfdGFic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fWy8qIGRlZmF1bHQgKi8gXCJhXCJdKHRhYnMucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1saW5rcyAudGFiJyksIHRhYnMucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1ibG9ja3MgLnRhYicpKVxyXG59KVxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBFU00gQ09NUEFUIEZMQUdcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9qcy9jb21wb25lbnRzL2dsb2JhbC90b3AtYmxvY2tfdmlkZW8uanNcbnZhciB0b3BfYmxvY2tfdmlkZW8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2pzL2NvbXBvbmVudHMvdGFicy5qc1xudmFyIGNvbXBvbmVudHNfdGFicyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL2NvbXBvbmVudHMvZ2xvYmFsL2hlYWRlckJ1cmdlci5qc1xuY2xhc3MgSGVhZGVyQnVyZ2Vye1xyXG4gICAgY29uc3RydWN0b3IoYnVyZ2VyLCBwb3B1cCwgY2xvc2UpIHtcclxuICAgICAgICB0aGlzLmJ1cmdlciA9IGJ1cmdlcjtcclxuICAgICAgICB0aGlzLmZsYWcgPSBBcnJheS5pc0FycmF5KHBvcHVwKTtcclxuICAgICAgICB0aGlzLnBvcHVwID0gcG9wdXA7XHJcbiAgICAgICAgdGhpcy5jbG9zZSA9IGNsb3NlO1xyXG4gICAgICAgIHRoaXMuYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9Pnt0aGlzLmJ1cmdlckZ1bmN0aW9uKCl9KTtcclxuICAgICAgICB0aGlzLmNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9Pnt0aGlzLmNsb3NlRnVuY3Rpb24oKX0pXHJcbiAgICB9XHJcbiAgICBidXJnZXJGdW5jdGlvbigpe1xyXG4gICAgICAgIGlmICh0aGlzLmZsYWcpe1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuICAgIH1cclxuICAgIGNsb3NlRnVuY3Rpb24oKXtcclxuICAgICAgICBpZiAodGhpcy5mbGFnKXtcclxuICAgICAgICAgICAgdGhpcy5wb3B1cC5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgIH1cclxufVxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvanMvY29tcG9uZW50cy9nbG9iYWwvaGVhZGVyTGFuZ3VhZ2UuanNcbmNsYXNzIGhlYWRlckxhbmd1YWdle1xyXG4gICAgY29uc3RydWN0b3IobGFuZ3VhZ2VCbG9jaykge1xyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2VCbG9jayA9IGxhbmd1YWdlQmxvY2tcclxuICAgICAgICB0aGlzLmxhbmd1YWdlTGlzdCA9IHRoaXMubGFuZ3VhZ2VCbG9jay5xdWVyeVNlbGVjdG9yKCd1bCcpXHJcbiAgICAgICAgdGhpcy5sYW5ndWFnZUJsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3RoaXMuc2hvd0Jsb2NrKCl9KVxyXG4gICAgfVxyXG4gICAgc2hvd0Jsb2NrKCl7XHJcbiAgICAgICAgbGV0IGNsb3NlQmxvY2sgPSAoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlTGlzdC5zdHlsZS5oZWlnaHQgPSBgMGBcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VCbG9jaylcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGJsb2NrSGVpZ2h0ID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5sYW5ndWFnZUxpc3QpLmdldFByb3BlcnR5VmFsdWUoJ2hlaWdodCcpKVxyXG4gICAgICAgIGlmIChibG9ja0hlaWdodCA9PT0gMCl7XHJcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2VMaXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMubGFuZ3VhZ2VMaXN0LnNjcm9sbEhlaWdodH1weGBcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VCbG9jaylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlTGlzdC5zdHlsZS5oZWlnaHQgPSBgMGBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL2luZGV4LmpzXG5cclxuXHJcblxyXG5cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9wLWJsb2NrIC52aWRlbyB2aWRlbycpKSB7XHJcbiAgICBuZXcgdG9wX2Jsb2NrX3ZpZGVvW1wiYVwiIC8qIGRlZmF1bHQgKi9dKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3AtYmxvY2sgLnZpZGVvIHZpZGVvJyksIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3AtYmxvY2sgLnZpZGVvIC5wbGF5LWJ0bicpKVxyXG59XHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlci1mdWxsLXBhZ2UnKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyLWZ1bGwtcGFnZScpLmZvckVhY2goIHNsaWRlciA9PiB7XHJcbiAgICAgICAgbGV0IHNsaWRlckNvbnRhaW5lciA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7XHJcbiAgICAgICAgbGV0IHNpZW1hID0gbmV3IFNpZW1hKHtcclxuICAgICAgICAgICAgc2VsZWN0b3I6IHNsaWRlckNvbnRhaW5lcixcclxuICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgICAgICAgZWFzaW5nOiAnZWFzZS1vdXQnLFxyXG4gICAgICAgICAgICBwZXJQYWdlOiB7XHJcbiAgICAgICAgICAgICAgICAwOiAxLFxyXG4gICAgICAgICAgICAgICAgMTAyNDogMlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdGFydEluZGV4OiAxLFxyXG4gICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBtdWx0aXBsZURyYWc6IHRydWUsXHJcbiAgICAgICAgICAgIHRocmVzaG9sZDogMjAsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgICAgICBydGw6IGZhbHNlLFxyXG4gICAgICAgICAgICBvbkluaXQ6IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA3NjcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLnN0eWxlLm92ZXJmbG93ID0gJ2luaXRpYWwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZScpLmZvckVhY2goIChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICAgICAgICAgICAgICBkb3QuY2xhc3NMaXN0LmFkZCgnZG90Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG90LmlubmVyVGV4dCA9IGVsZW0ucXVlcnlTZWxlY3RvcignLm5hbWUnKS5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLnNsaWRlci1idG5zIC5kb3RzJykuYXBwZW5kQ2hpbGQoZG90KTtcclxuICAgICAgICAgICAgICAgICAgICBkb3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLmdvVG8oaW5kZXgpfSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLnNsaWRlci1idG5zIC5idG4tbGVmdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntzaWVtYS5wcmV2KCl9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IuY2xvc2VzdCgnLnRhYicpLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItYnRucyAuYnRuLXJpZ2h0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLm5leHQoKX0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuZG90LmN1cnJlbnQnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLmRvdC5jdXJyZW50JykuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yQWxsKCcuZG90Jylbc2llbWEuY3VycmVudFNsaWRlXS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWZ1bGwtcGFnZS1zb2xvJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlci1mdWxsLXBhZ2Utc29sbycpLmZvckVhY2goIHNsaWRlciA9PiB7XHJcbiAgICAgICAgbGV0IHNsaWRlckNvbnRhaW5lciA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJylcclxuICAgICAgICBsZXQgc2llbWEgPSBuZXcgU2llbWEoe1xyXG4gICAgICAgICAgICBzZWxlY3Rvcjogc2xpZGVyQ29udGFpbmVyLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlLW91dCcsXHJcbiAgICAgICAgICAgIHBlclBhZ2U6IDEsXHJcbiAgICAgICAgICAgIHN0YXJ0SW5kZXg6IDAsXHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIG11bHRpcGxlRHJhZzogZmFsc2UsXHJcbiAgICAgICAgICAgIHRocmVzaG9sZDogMjAsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgICAgICBydGw6IGZhbHNlLFxyXG4gICAgICAgICAgICBvbkluaXQ6IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPiAxMTk5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5zdHlsZS5vdmVyZmxvdyA9ICdpbml0aWFsJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUnKS5mb3JFYWNoKCAoZWxlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG90LmNsYXNzTGlzdC5hZGQoJ2RvdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvdC5pbm5lclRleHQgPSBlbGVtLmRhdGFzZXQuZG90TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLmRvdHMnKS5hcHBlbmRDaGlsZChkb3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEuZ29UbyhpbmRleCl9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLmJ0bi1sZWZ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLnByZXYoKX0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLnNsaWRlci1idG5zIC5idG4tcmlnaHQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEubmV4dCgpfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnNsaWRlLmN1cnJlbnQnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuc2xpZGUuY3VycmVudCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUnKVtzaWVtYS5jdXJyZW50U2xpZGVdLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuZG90LmN1cnJlbnQnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLmRvdC5jdXJyZW50JykuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yQWxsKCcuZG90Jylbc2llbWEuY3VycmVudFNsaWRlXS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50Jyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW1nID0gdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcuc2xpZGVyLWZ1bGwtcGFnZS1zb2xvJykucXVlcnlTZWxlY3RvcignLmJnLWltZyBpbWcnKTtcclxuICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSB0aGlzLnNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZScpW3NpZW1hLmN1cnJlbnRTbGlkZV0uZGF0YXNldC5pbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9wYWNpdHkgPSAnMSdcclxuICAgICAgICAgICAgICAgIH0sIDE1MClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFicycpLmZvckVhY2goIHRhYnMgPT4ge1xyXG4gICAgbmV3IGNvbXBvbmVudHNfdGFic1tcImFcIiAvKiBkZWZhdWx0ICovXSh0YWJzLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItbGlua3MgLnRhYicpLCB0YWJzLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYmxvY2tzIC50YWInKSlcclxufSk7XHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbW1lbnRzIC5zbGlkZXInKSl7XHJcbiAgICBsZXQgc2llbWEgPSBuZXcgU2llbWEoe1xyXG4gICAgICAgIHNlbGVjdG9yOiAnLmNvbW1lbnRzIC5zbGlkZXInLFxyXG4gICAgICAgIGR1cmF0aW9uOiAzMDAsXHJcbiAgICAgICAgZWFzaW5nOiAnZWFzZS1vdXQnLFxyXG4gICAgICAgIHBlclBhZ2U6IDEsXHJcbiAgICAgICAgc3RhcnRJbmRleDogMCxcclxuICAgICAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICAgICAgbXVsdGlwbGVEcmFnOiBmYWxzZSxcclxuICAgICAgICB0aHJlc2hvbGQ6IDIwLFxyXG4gICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgIHJ0bDogZmFsc2UsXHJcbiAgICAgICAgb25Jbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IuY2xvc2VzdCgnLmNvbW1lbnRzJykucXVlcnlTZWxlY3RvcignLnNsaWRlci1idG5zIC5sZWZ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLnByZXYoKX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy5jb21tZW50cycpLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItYnRucyAucmlnaHQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEubmV4dCgpfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlcicpKSB7XHJcbiAgICBuZXcgSGVhZGVyQnVyZ2VyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtYnVyZ2VyJyksIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoZWFkZXIgLm1vYmlsZScpXSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5jbG9zZScpKTtcclxuICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoID4gNTc2KSB7XHJcbiAgICAgICAgbmV3IGhlYWRlckxhbmd1YWdlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXIgLmxhbmd1YWdlJykpXHJcbiAgICB9XHJcbn1cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pOyJdLCJmaWxlIjoibWFpbi1taW4uanMifQ==
