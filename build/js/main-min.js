(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=2)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Tabs});class Tabs{constructor(btnArrow,tabArrow){this.btnArrow=btnArrow;this.tabArrow=tabArrow;this.btnArrow.forEach((elem,index)=>{elem.addEventListener("click",()=>this.switchTab(index))})}switchTab(index){this.btnArrow.forEach(btn=>{btn.classList.remove("current")});this.btnArrow[index].classList.add("current");this.tabArrow.forEach(tab=>{tab.classList.remove("current")});this.tabArrow[index].classList.add("current")}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return popupFunc});class popupFunc{constructor(button,popup){this.button=button;this.popup=popup;this.openPopupFunc=this.openPopup.bind(this);this.closePopupFunc=this.closePopup.bind(this);if(Array.isArray(this.button)){this.button.forEach(elem=>{elem.addEventListener("click",this.openPopupFunc)})}else{this.button.addEventListener("click",this.openPopupFunc)}}openPopup(event){event.preventDefault();this.popup.classList.add("active");if(this.popup.parentNode.classList.contains("wrapper")){this.popup.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}this.popup.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc));if(this.popup.parentNode.classList.contains("wrapper")){this.popup.parentNode.addEventListener("click",this.closePopupFunc)}}closePopup(event){console.log(event.target);if(!event.target.classList.contains("close")&&event.target.closest(`.${this.button.dataset.popup}`)!==null){event.stopPropagation()}else{this.popup.classList.remove("active");if(this.popup.parentNode.classList.contains("wrapper")){this.popup.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}this.popup.querySelectorAll(".close").forEach(elem=>elem.removeEventListener("click",this.closePopupFunc));if(this.popup.parentNode.classList.contains("wrapper")){this.popup.parentNode.removeEventListener("click",this.closePopupFunc)}}}}},function(module,exports,__webpack_require__){__webpack_require__(3);__webpack_require__(4);module.exports=__webpack_require__(1)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _components_tabs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);if(document.querySelector(".our-specialists .slider")){document.querySelectorAll(".our-specialists .slider").forEach(slider=>{let siema=new Siema({selector:slider,duration:200,easing:"ease-out",perPage:{0:1,480:2,1024:3},startIndex:1,draggable:true,multipleDrag:true,threshold:20,loop:false,rtl:false,onInit:function(){this.selector.closest("section").querySelector(".slider-btns .btn-left").addEventListener("click",()=>{siema.prev()});this.selector.closest("section").querySelector(".slider-btns .btn-right").addEventListener("click",()=>{siema.next()})},onChange:function(){}})})}document.querySelectorAll(".tabs").forEach(tabs=>{new _components_tabs__WEBPACK_IMPORTED_MODULE_0__["a"](tabs.querySelectorAll(".tab-links .tab"),tabs.querySelectorAll(".tab-blocks .tab"))})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var components_tabs=__webpack_require__(0);class HeaderBurger{constructor(burger,popup,close){this.burger=burger;this.flag=Array.isArray(popup);this.popup=popup;this.close=close;this.burger.addEventListener("click",()=>{this.burgerFunction()});this.close.addEventListener("click",()=>{this.closeFunction()})}burgerFunction(){if(this.flag){this.popup.forEach(elem=>{elem.classList.add("active")})}else{this.popup.classList.add("active")}document.body.classList.add("hidden")}closeFunction(){if(this.flag){this.popup.forEach(elem=>{elem.classList.remove("active")})}else{this.popup.classList.remove("active")}document.body.classList.remove("hidden")}}class headerLanguage{constructor(languageBlock){this.languageBlock=languageBlock;this.languageList=this.languageBlock.querySelector("ul");this.languageBlock.querySelector(".current").addEventListener("click",()=>{this.showBlock()})}showBlock(){let closeBlock=()=>{this.languageList.style.height=`0`;window.removeEventListener("click",closeBlock)};let blockHeight=parseInt(window.getComputedStyle(this.languageList).getPropertyValue("height"));if(blockHeight===0){this.languageList.style.height=`${this.languageList.scrollHeight}px`;setTimeout(()=>{window.addEventListener("click",closeBlock)})}else{this.languageList.style.height=`0`}}}class Counters{constructor(elem,delay){this.elem=elem;this.delay=delay;this.count=parseInt(this.elem.innerText);this.newNum=0;this.wordParts=this.elem.innerText.split(/[a-zA-Z]+|[0-9]+/);this.interval=setInterval(()=>{this.newNum+=this.count/this.delay;this.elem.innerText=`${this.wordParts[0]}${Math.round(this.newNum)}${this.wordParts[1]}`;if(this.newNum>=this.count){clearInterval(this.interval)}},this.count/this.delay)}}class hideList{constructor(listBlock){this.listBlock=listBlock;this.list=this.listBlock.querySelector("[data-block]");this.listBlock.querySelector("[data-btn]").addEventListener("click",()=>{this.showBlock()});if(this.list.classList.contains("active")){this.list.style.height=`${this.list.scrollHeight}px`}}showBlock(){let blockHeight=parseInt(window.getComputedStyle(this.list).getPropertyValue("height"));if(blockHeight===0){this.list.style.height=`${this.list.scrollHeight}px`;this.listBlock.querySelector("[data-btn]").classList.add("active")}else{this.listBlock.querySelector("[data-btn]").classList.remove("active");this.list.style.height=`0`}}}var popupFunc=__webpack_require__(1);if(document.querySelector(".slider-full-page")){document.querySelectorAll(".slider-full-page").forEach(slider=>{let sliderContainer=slider.querySelector(".container");let siema=new Siema({selector:sliderContainer,duration:200,easing:"ease-out",perPage:{0:1,1024:2},startIndex:1,draggable:window.screen.width<767,multipleDrag:true,threshold:20,loop:false,rtl:false,onInit:function(){if(window.screen.width<767||this.selector.parentNode.classList.contains("initial")){this.selector.style.overflow="initial"}this.selector.querySelectorAll(".slide").forEach((elem,index)=>{let dot=document.createElement("button");dot.classList.add("dot");dot.innerText=elem.querySelector(".name").innerHTML;this.selector.closest(".tab").querySelector(".slider-btns .dots").appendChild(dot);dot.addEventListener("click",()=>{siema.goTo(index)})});this.selector.closest(".tab").querySelectorAll(".dot")[this.currentSlide].classList.add("current");this.selector.closest(".tab").querySelector(".slider-btns .btn-left").addEventListener("click",()=>{siema.prev()});this.selector.closest(".tab").querySelector(".slider-btns .btn-right").addEventListener("click",()=>{siema.next()})},onChange:function(){if(this.selector.closest(".tab").querySelector(".dot.current")){this.selector.closest(".tab").querySelector(".dot.current").classList.remove("current")}this.selector.closest(".tab").querySelectorAll(".dot")[siema.currentSlide].classList.add("current")}})})}if(document.querySelector(".slider-full-page-solo")){document.querySelectorAll(".slider-full-page-solo").forEach(slider=>{let sliderContainer=slider.querySelector(".container");let siema=new Siema({selector:sliderContainer,duration:300,easing:"ease-out",perPage:1,startIndex:0,draggable:false,multipleDrag:false,threshold:20,loop:false,rtl:false,onInit:function(){if(window.screen.width>1199){this.selector.style.overflow="initial"}this.selector.querySelectorAll(".slide").forEach((elem,index)=>{let dot=document.createElement("button");dot.classList.add("dot");dot.innerText=elem.dataset.dotName;this.selector.closest(".tab").querySelector(".slider-btns .dots").appendChild(dot);dot.addEventListener("click",()=>{siema.goTo(index)})});this.selector.closest(".tab").querySelector(".slider-btns .btn-left").addEventListener("click",()=>{siema.prev()});this.selector.closest(".tab").querySelector(".slider-btns .btn-right").addEventListener("click",()=>{siema.next()})},onChange:function(){if(this.selector.querySelector(".slide.current")){this.selector.querySelector(".slide.current").classList.remove("current")}this.selector.querySelectorAll(".slide")[siema.currentSlide].classList.add("current");if(this.selector.closest(".tab").querySelector(".dot.current")){this.selector.closest(".tab").querySelector(".dot.current").classList.remove("current")}this.selector.closest(".tab").querySelectorAll(".dot")[siema.currentSlide].classList.add("current");let img=this.selector.closest(".slider-full-page-solo").querySelector(".bg-img img");img.style.opacity="0";setTimeout(()=>{img.src=this.selector.querySelectorAll(".slide")[siema.currentSlide].dataset.img;img.style.opacity="1"},150)}})})}document.querySelectorAll(".tabs").forEach(tabs=>{new components_tabs["a"](tabs.querySelectorAll(".tab-links .tab"),tabs.querySelectorAll(".tab-blocks .tab"))});if(document.querySelector(".comments .slider")){let siema=new Siema({selector:".comments .slider",duration:300,easing:"ease-out",perPage:1,startIndex:0,draggable:true,multipleDrag:false,threshold:20,loop:false,rtl:false,onInit:function(){this.selector.closest(".comments").querySelector(".slider-btns .left").addEventListener("click",()=>{siema.prev()});this.selector.closest(".comments").querySelector(".slider-btns .right").addEventListener("click",()=>{siema.next()})},onChange:function(){}})}if(document.querySelector("header")){new HeaderBurger(document.querySelector(".mobile-burger"),[...document.querySelectorAll("header .mobile")],document.querySelector("header .close"));if(window.screen.width>576){new headerLanguage(document.querySelector(".header .language"))}}if(document.querySelector("#video")){window.addEventListener("resize",function(){document.querySelector("#video").style.minHeight=`${Math.round(.45*document.querySelector("#video").offsetWidth)}px`})}if(document.querySelector("section.achievements .count")){document.querySelectorAll("section.achievements .count").forEach(elem=>{function checkHeight(){if(elem.getBoundingClientRect().top<=window.screen.height){window.removeEventListener("scroll",checkHeight);new Counters(elem,400)}}window.addEventListener("scroll",checkHeight)})}if(document.querySelector("section.questions .elem")){document.querySelectorAll("section.questions .elem").forEach(elem=>{new hideList(elem)})}document.querySelectorAll("[data-popup]").forEach(elem=>{new popupFunc["default"](elem,document.querySelector(`.popup.${elem.dataset.popup}`))})}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJUYWJzIiwiW29iamVjdCBPYmplY3RdIiwiYnRuQXJyb3ciLCJ0YWJBcnJvdyIsInRoaXMiLCJmb3JFYWNoIiwiZWxlbSIsImluZGV4IiwiYWRkRXZlbnRMaXN0ZW5lciIsInN3aXRjaFRhYiIsImJ0biIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInRhYiIsInBvcHVwRnVuYyIsImJ1dHRvbiIsInBvcHVwIiwib3BlblBvcHVwRnVuYyIsIm9wZW5Qb3B1cCIsImNsb3NlUG9wdXBGdW5jIiwiY2xvc2VQb3B1cCIsIkFycmF5IiwiaXNBcnJheSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJwYXJlbnROb2RlIiwiY29udGFpbnMiLCJ3aW5kb3ciLCJzY3JlZW4iLCJ3aWR0aCIsImRvY3VtZW50IiwiYm9keSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb25zb2xlIiwibG9nIiwidGFyZ2V0IiwiY2xvc2VzdCIsImRhdGFzZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2NvbXBvbmVudHNfdGFic19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwicXVlcnlTZWxlY3RvciIsInNsaWRlciIsInNpZW1hIiwiU2llbWEiLCJzZWxlY3RvciIsImR1cmF0aW9uIiwiZWFzaW5nIiwicGVyUGFnZSIsIjAiLCI0ODAiLCIxMDI0Iiwic3RhcnRJbmRleCIsImRyYWdnYWJsZSIsIm11bHRpcGxlRHJhZyIsInRocmVzaG9sZCIsImxvb3AiLCJydGwiLCJvbkluaXQiLCJwcmV2IiwibmV4dCIsIm9uQ2hhbmdlIiwidGFicyIsImNvbXBvbmVudHNfdGFicyIsIkhlYWRlckJ1cmdlciIsImJ1cmdlciIsImNsb3NlIiwiZmxhZyIsImJ1cmdlckZ1bmN0aW9uIiwiY2xvc2VGdW5jdGlvbiIsImhlYWRlckxhbmd1YWdlIiwibGFuZ3VhZ2VCbG9jayIsImxhbmd1YWdlTGlzdCIsInNob3dCbG9jayIsImNsb3NlQmxvY2siLCJzdHlsZSIsImhlaWdodCIsImJsb2NrSGVpZ2h0IiwicGFyc2VJbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNjcm9sbEhlaWdodCIsInNldFRpbWVvdXQiLCJDb3VudGVycyIsImRlbGF5IiwiY291bnQiLCJpbm5lclRleHQiLCJuZXdOdW0iLCJ3b3JkUGFydHMiLCJzcGxpdCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJNYXRoIiwicm91bmQiLCJjbGVhckludGVydmFsIiwiaGlkZUxpc3QiLCJsaXN0QmxvY2siLCJsaXN0Iiwic2xpZGVyQ29udGFpbmVyIiwib3ZlcmZsb3ciLCJkb3QiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJnb1RvIiwiY3VycmVudFNsaWRlIiwiZG90TmFtZSIsImltZyIsIm9wYWNpdHkiLCJzcmMiLCJtaW5IZWlnaHQiLCJvZmZzZXRXaWR0aCIsImNoZWNrSGVpZ2h0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIl0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxTQUVULElBQUlDLGlCQUFtQixHQUd2QixTQUFTQyxvQkFBb0JDLFVBRzVCLEdBQUdGLGlCQUFpQkUsVUFBVyxDQUM5QixPQUFPRixpQkFBaUJFLFVBQVVDLFFBR25DLElBQUlDLE9BQVNKLGlCQUFpQkUsVUFBWSxDQUN6Q0csRUFBR0gsU0FDSEksRUFBRyxNQUNISCxRQUFTLElBSVZKLFFBQVFHLFVBQVVLLEtBQUtILE9BQU9ELFFBQVNDLE9BQVFBLE9BQU9ELFFBQVNGLHFCQUcvREcsT0FBT0UsRUFBSSxLQUdYLE9BQU9GLE9BQU9ELFFBS2ZGLG9CQUFvQk8sRUFBSVQsUUFHeEJFLG9CQUFvQlEsRUFBSVQsaUJBR3hCQyxvQkFBb0JTLEVBQUksU0FBU1AsUUFBU1EsS0FBTUMsUUFDL0MsSUFBSVgsb0JBQW9CWSxFQUFFVixRQUFTUSxNQUFPLENBQ3pDRyxPQUFPQyxlQUFlWixRQUFTUSxLQUFNLENBQUVLLFdBQVksS0FBTUMsSUFBS0wsV0FLaEVYLG9CQUFvQmlCLEVBQUksU0FBU2YsU0FDaEMsVUFBVWdCLFNBQVcsYUFBZUEsT0FBT0MsWUFBYSxDQUN2RE4sT0FBT0MsZUFBZVosUUFBU2dCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZVosUUFBUyxhQUFjLENBQUVrQixNQUFPLFFBUXZEcEIsb0JBQW9CcUIsRUFBSSxTQUFTRCxNQUFPRSxNQUN2QyxHQUFHQSxLQUFPLEVBQUdGLE1BQVFwQixvQkFBb0JvQixPQUN6QyxHQUFHRSxLQUFPLEVBQUcsT0FBT0YsTUFDcEIsR0FBSUUsS0FBTyxVQUFhRixRQUFVLFVBQVlBLE9BQVNBLE1BQU1HLFdBQVksT0FBT0gsTUFDaEYsSUFBSUksR0FBS1gsT0FBT1ksT0FBTyxNQUN2QnpCLG9CQUFvQmlCLEVBQUVPLElBQ3RCWCxPQUFPQyxlQUFlVSxHQUFJLFVBQVcsQ0FBRVQsV0FBWSxLQUFNSyxNQUFPQSxRQUNoRSxHQUFHRSxLQUFPLFVBQVlGLE9BQVMsU0FBVSxJQUFJLElBQUlNLE9BQU9OLE1BQU9wQixvQkFBb0JTLEVBQUVlLEdBQUlFLElBQUssU0FBU0EsS0FBTyxPQUFPTixNQUFNTSxNQUFRQyxLQUFLLEtBQU1ELE1BQzlJLE9BQU9GLElBSVJ4QixvQkFBb0I0QixFQUFJLFNBQVN6QixRQUNoQyxJQUFJUSxPQUFTUixRQUFVQSxPQUFPb0IsV0FDN0IsU0FBU00sYUFBZSxPQUFPMUIsT0FBTyxZQUN0QyxTQUFTMkIsbUJBQXFCLE9BQU8zQixRQUN0Q0gsb0JBQW9CUyxFQUFFRSxPQUFRLElBQUtBLFFBQ25DLE9BQU9BLFFBSVJYLG9CQUFvQlksRUFBSSxTQUFTbUIsT0FBUUMsVUFBWSxPQUFPbkIsT0FBT29CLFVBQVVDLGVBQWU1QixLQUFLeUIsT0FBUUMsV0FHekdoQyxvQkFBb0JtQyxFQUFJLEdBSXhCLE9BQU9uQyxvQkFBb0JBLG9CQUFvQm9DLEVBQUksSUFuRnBELENBc0ZDLENBRUosU0FBVWpDLE9BQVFrQyxvQkFBcUJyQyxxQkFFN0MsYUFDK0JBLG9CQUFvQlMsRUFBRTRCLG9CQUFxQixJQUFLLFdBQWEsT0FBT0MsT0FDbkcsTUFBTUEsS0FDRkMsWUFBWUMsU0FBVUMsVUFDbEJDLEtBQUtGLFNBQVdBLFNBQ2hCRSxLQUFLRCxTQUFXQSxTQUNoQkMsS0FBS0YsU0FBU0csUUFBUyxDQUFDQyxLQUFNQyxTQUMxQkQsS0FBS0UsaUJBQWlCLFFBQVMsSUFBT0osS0FBS0ssVUFBVUYsVUFHN0ROLFVBQVVNLE9BQ05ILEtBQUtGLFNBQVNHLFFBQVFLLE1BQ2xCQSxJQUFJQyxVQUFVQyxPQUFPLGFBRXpCUixLQUFLRixTQUFTSyxPQUFPSSxVQUFVRSxJQUFJLFdBQ25DVCxLQUFLRCxTQUFTRSxRQUFRUyxNQUNsQkEsSUFBSUgsVUFBVUMsT0FBTyxhQUV6QlIsS0FBS0QsU0FBU0ksT0FBT0ksVUFBVUUsSUFBSSxjQU1yQyxTQUFVaEQsT0FBUWtDLG9CQUFxQnJDLHFCQUU3QyxhQUNBQSxvQkFBb0JpQixFQUFFb0IscUJBQ1NyQyxvQkFBb0JTLEVBQUU0QixvQkFBcUIsVUFBVyxXQUFhLE9BQU9nQixZQUN6RyxNQUFNQSxVQUNGZCxZQUFZZSxPQUFPQyxPQUNmYixLQUFLWSxPQUFTQSxPQUNkWixLQUFLYSxNQUFRQSxNQUNiYixLQUFLYyxjQUFnQmQsS0FBS2UsVUFBVTlCLEtBQUtlLE1BQ3pDQSxLQUFLZ0IsZUFBaUJoQixLQUFLaUIsV0FBV2hDLEtBQUtlLE1BQzNDLEdBQUtrQixNQUFNQyxRQUFRbkIsS0FBS1ksUUFBUSxDQUM1QlosS0FBS1ksT0FBT1gsUUFBU0MsT0FDakJBLEtBQUtFLGlCQUFpQixRQUFTSixLQUFLYyxxQkFFckMsQ0FDSGQsS0FBS1ksT0FBT1IsaUJBQWlCLFFBQVNKLEtBQUtjLGdCQUduRGpCLFVBQVV1QixPQUNOQSxNQUFNQyxpQkFDTnJCLEtBQUthLE1BQU1OLFVBQVVFLElBQUksVUFDekIsR0FBSVQsS0FBS2EsTUFBTVMsV0FBV2YsVUFBVWdCLFNBQVMsV0FBWSxDQUNyRHZCLEtBQUthLE1BQU1TLFdBQVdmLFVBQVVFLElBQUksVUFFeEMsR0FBSWUsT0FBT0MsT0FBT0MsTUFBUSxJQUFLLENBQzNCQyxTQUFTQyxLQUFLckIsVUFBVUUsSUFBSSxVQUVoQ1QsS0FBS2EsTUFBTWdCLGlCQUFpQixVQUFVNUIsUUFBU0MsTUFBUUEsS0FBS0UsaUJBQWlCLFFBQVNKLEtBQUtnQixpQkFDM0YsR0FBSWhCLEtBQUthLE1BQU1TLFdBQVdmLFVBQVVnQixTQUFTLFdBQVksQ0FDckR2QixLQUFLYSxNQUFNUyxXQUFXbEIsaUJBQWlCLFFBQVNKLEtBQUtnQixpQkFHN0RuQixXQUFXdUIsT0FDUFUsUUFBUUMsSUFBSVgsTUFBTVksUUFDbEIsSUFBS1osTUFBTVksT0FBT3pCLFVBQVVnQixTQUFTLFVBQVlILE1BQU1ZLE9BQU9DLFlBQVlqQyxLQUFLWSxPQUFPc0IsUUFBUXJCLFdBQWEsS0FBSyxDQUM1R08sTUFBTWUsc0JBQ0gsQ0FDSG5DLEtBQUthLE1BQU1OLFVBQVVDLE9BQU8sVUFDNUIsR0FBSVIsS0FBS2EsTUFBTVMsV0FBV2YsVUFBVWdCLFNBQVMsV0FBWSxDQUNyRHZCLEtBQUthLE1BQU1TLFdBQVdmLFVBQVVDLE9BQU8sVUFFM0MsR0FBSWdCLE9BQU9DLE9BQU9DLE1BQVEsSUFBSyxDQUMzQkMsU0FBU0MsS0FBS3JCLFVBQVVDLE9BQU8sVUFFbkNSLEtBQUthLE1BQU1nQixpQkFBaUIsVUFBVTVCLFFBQVNDLE1BQVFBLEtBQUtrQyxvQkFBb0IsUUFBU3BDLEtBQUtnQixpQkFDOUYsR0FBSWhCLEtBQUthLE1BQU1TLFdBQVdmLFVBQVVnQixTQUFTLFdBQVksQ0FDckR2QixLQUFLYSxNQUFNUyxXQUFXYyxvQkFBb0IsUUFBU3BDLEtBQUtnQixxQkFRbEUsU0FBVXZELE9BQVFELFFBQVNGLHFCQUVqQ0Esb0JBQW9CLEdBQ3BCQSxvQkFBb0IsR0FDcEJHLE9BQU9ELFFBQVVGLG9CQUFvQixJQUsvQixTQUFVRyxPQUFRa0Msb0JBQXFCckMscUJBRTdDLGFBQ0FBLG9CQUFvQmlCLEVBQUVvQixxQkFDRCxJQUFJMEMsOENBQWdEL0Usb0JBQW9CLEdBRzdGLEdBQUlxRSxTQUFTVyxjQUFjLDRCQUE0QixDQUNuRFgsU0FBU0UsaUJBQWlCLDRCQUE0QjVCLFFBQVNzQyxTQUMzRCxJQUFJQyxNQUFRLElBQUlDLE1BQU0sQ0FDbEJDLFNBQVVILE9BQ1ZJLFNBQVUsSUFDVkMsT0FBUSxXQUNSQyxRQUFTLENBQ0xDLEVBQUcsRUFDSEMsSUFBSyxFQUNMQyxLQUFNLEdBRVZDLFdBQVksRUFDWkMsVUFBVyxLQUNYQyxhQUFjLEtBQ2RDLFVBQVcsR0FDWEMsS0FBTSxNQUNOQyxJQUFLLE1BQ0xDLE9BQVEsV0FDSnZELEtBQUswQyxTQUFTVCxRQUFRLFdBQVdLLGNBQWMsMEJBQTBCbEMsaUJBQWlCLFFBQVMsS0FBS29DLE1BQU1nQixTQUM5R3hELEtBQUswQyxTQUFTVCxRQUFRLFdBQVdLLGNBQWMsMkJBQTJCbEMsaUJBQWlCLFFBQVMsS0FBS29DLE1BQU1pQixVQUVuSEMsU0FBVSxpQkFNdEIvQixTQUFTRSxpQkFBaUIsU0FBUzVCLFFBQVMwRCxPQUN4QyxJQUFJdEIsOENBQTRELEtBQUtzQixLQUFLOUIsaUJBQWlCLG1CQUFvQjhCLEtBQUs5QixpQkFBaUIsd0JBS25JLFNBQVVwRSxPQUFRa0Msb0JBQXFCckMscUJBRTdDLGFBRUFBLG9CQUFvQmlCLEVBQUVvQixxQkFHdEIsSUFBSWlFLGdCQUFrQnRHLG9CQUFvQixHQUcxQyxNQUFNdUcsYUFDRmhFLFlBQVlpRSxPQUFRakQsTUFBT2tELE9BQ3ZCL0QsS0FBSzhELE9BQVNBLE9BQ2Q5RCxLQUFLZ0UsS0FBTzlDLE1BQU1DLFFBQVFOLE9BQzFCYixLQUFLYSxNQUFRQSxNQUNiYixLQUFLK0QsTUFBUUEsTUFDYi9ELEtBQUs4RCxPQUFPMUQsaUJBQWlCLFFBQVMsS0FBS0osS0FBS2lFLG1CQUNoRGpFLEtBQUsrRCxNQUFNM0QsaUJBQWlCLFFBQVMsS0FBS0osS0FBS2tFLGtCQUVuRHJFLGlCQUNJLEdBQUlHLEtBQUtnRSxLQUFLLENBQ1ZoRSxLQUFLYSxNQUFNWixRQUFTQyxPQUNsQkEsS0FBS0ssVUFBVUUsSUFBSSxnQkFFbEIsQ0FDSFQsS0FBS2EsTUFBTU4sVUFBVUUsSUFBSSxVQUU3QmtCLFNBQVNDLEtBQUtyQixVQUFVRSxJQUFJLFVBRWhDWixnQkFDSSxHQUFJRyxLQUFLZ0UsS0FBSyxDQUNWaEUsS0FBS2EsTUFBTVosUUFBU0MsT0FDaEJBLEtBQUtLLFVBQVVDLE9BQU8sZ0JBRXZCLENBQ0hSLEtBQUthLE1BQU1OLFVBQVVDLE9BQU8sVUFFaENtQixTQUFTQyxLQUFLckIsVUFBVUMsT0FBTyxXQUl2QyxNQUFNMkQsZUFDRnRFLFlBQVl1RSxlQUNScEUsS0FBS29FLGNBQWdCQSxjQUNyQnBFLEtBQUtxRSxhQUFlckUsS0FBS29FLGNBQWM5QixjQUFjLE1BQ3JEdEMsS0FBS29FLGNBQWM5QixjQUFjLFlBQVlsQyxpQkFBaUIsUUFBUyxLQUFLSixLQUFLc0UsY0FFckZ6RSxZQUNJLElBQUkwRSxXQUFhLEtBQ2J2RSxLQUFLcUUsYUFBYUcsTUFBTUMsV0FDeEJqRCxPQUFPWSxvQkFBb0IsUUFBU21DLGFBRXhDLElBQUlHLFlBQWNDLFNBQVNuRCxPQUFPb0QsaUJBQWlCNUUsS0FBS3FFLGNBQWNRLGlCQUFpQixXQUN2RixHQUFJSCxjQUFnQixFQUFFLENBQ2xCMUUsS0FBS3FFLGFBQWFHLE1BQU1DLFVBQVl6RSxLQUFLcUUsYUFBYVMsaUJBQ3REQyxXQUFXLEtBQ1B2RCxPQUFPcEIsaUJBQWlCLFFBQVNtRSxrQkFFbEMsQ0FDSHZFLEtBQUtxRSxhQUFhRyxNQUFNQyxhQUtwQyxNQUFNTyxTQUNGbkYsWUFBWUssS0FBTStFLE9BQ2RqRixLQUFLRSxLQUFPQSxLQUNaRixLQUFLaUYsTUFBUUEsTUFDYmpGLEtBQUtrRixNQUFRUCxTQUFTM0UsS0FBS0UsS0FBS2lGLFdBQ2hDbkYsS0FBS29GLE9BQVMsRUFDZHBGLEtBQUtxRixVQUFZckYsS0FBS0UsS0FBS2lGLFVBQVVHLE1BQU0sb0JBQzNDdEYsS0FBS3VGLFNBQVdDLFlBQWEsS0FDekJ4RixLQUFLb0YsUUFBVXBGLEtBQUtrRixNQUFRbEYsS0FBS2lGLE1BQ2pDakYsS0FBS0UsS0FBS2lGLGFBQWVuRixLQUFLcUYsVUFBVSxLQUFLSSxLQUFLQyxNQUFNMUYsS0FBS29GLFVBQVVwRixLQUFLcUYsVUFBVSxLQUN0RixHQUFJckYsS0FBS29GLFFBQVVwRixLQUFLa0YsTUFBTSxDQUMxQlMsY0FBYzNGLEtBQUt1RixZQUV4QnZGLEtBQUtrRixNQUFRbEYsS0FBS2lGLFFBSTdCLE1BQU1XLFNBQ0YvRixZQUFZZ0csV0FDUjdGLEtBQUs2RixVQUFZQSxVQUNqQjdGLEtBQUs4RixLQUFPOUYsS0FBSzZGLFVBQVV2RCxjQUFjLGdCQUN6Q3RDLEtBQUs2RixVQUFVdkQsY0FBYyxjQUFjbEMsaUJBQWlCLFFBQVMsS0FBS0osS0FBS3NFLGNBQy9FLEdBQUl0RSxLQUFLOEYsS0FBS3ZGLFVBQVVnQixTQUFTLFVBQVcsQ0FDeEN2QixLQUFLOEYsS0FBS3RCLE1BQU1DLFVBQVl6RSxLQUFLOEYsS0FBS2hCLGtCQUc5Q2pGLFlBQ0ksSUFBSTZFLFlBQWNDLFNBQVNuRCxPQUFPb0QsaUJBQWlCNUUsS0FBSzhGLE1BQU1qQixpQkFBaUIsV0FDL0UsR0FBSUgsY0FBZ0IsRUFBRSxDQUNsQjFFLEtBQUs4RixLQUFLdEIsTUFBTUMsVUFBWXpFLEtBQUs4RixLQUFLaEIsaUJBQ3RDOUUsS0FBSzZGLFVBQVV2RCxjQUFjLGNBQWMvQixVQUFVRSxJQUFJLGNBQ3RELENBQ0hULEtBQUs2RixVQUFVdkQsY0FBYyxjQUFjL0IsVUFBVUMsT0FBTyxVQUM1RFIsS0FBSzhGLEtBQUt0QixNQUFNQyxhQUs1QixJQUFJOUQsVUFBWXJELG9CQUFvQixHQVVwQyxHQUFJcUUsU0FBU1csY0FBYyxxQkFBcUIsQ0FDNUNYLFNBQVNFLGlCQUFpQixxQkFBcUI1QixRQUFTc0MsU0FDcEQsSUFBSXdELGdCQUFrQnhELE9BQU9ELGNBQWMsY0FDM0MsSUFBSUUsTUFBUSxJQUFJQyxNQUFNLENBQ2xCQyxTQUFVcUQsZ0JBQ1ZwRCxTQUFVLElBQ1ZDLE9BQVEsV0FDUkMsUUFBUyxDQUNMQyxFQUFHLEVBQ0hFLEtBQU0sR0FFVkMsV0FBWSxFQUNaQyxVQUFXMUIsT0FBT0MsT0FBT0MsTUFBUSxJQUNqQ3lCLGFBQWMsS0FDZEMsVUFBVyxHQUNYQyxLQUFNLE1BQ05DLElBQUssTUFDTEMsT0FBUSxXQUNKLEdBQUkvQixPQUFPQyxPQUFPQyxNQUFRLEtBQU8xQixLQUFLMEMsU0FBU3BCLFdBQVdmLFVBQVVnQixTQUFTLFdBQVksQ0FDckZ2QixLQUFLMEMsU0FBUzhCLE1BQU13QixTQUFXLFVBRW5DaEcsS0FBSzBDLFNBQVNiLGlCQUFpQixVQUFVNUIsUUFBUyxDQUFDQyxLQUFNQyxTQUNyRCxJQUFJOEYsSUFBTXRFLFNBQVN1RSxjQUFjLFVBQ2pDRCxJQUFJMUYsVUFBVUUsSUFBSSxPQUNsQndGLElBQUlkLFVBQVlqRixLQUFLb0MsY0FBYyxTQUFTNkQsVUFDNUNuRyxLQUFLMEMsU0FBU1QsUUFBUSxRQUFRSyxjQUFjLHNCQUFzQjhELFlBQVlILEtBQzlFQSxJQUFJN0YsaUJBQWlCLFFBQVMsS0FBS29DLE1BQU02RCxLQUFLbEcsV0FFbERILEtBQUswQyxTQUFTVCxRQUFRLFFBQVFKLGlCQUFpQixRQUFRN0IsS0FBS3NHLGNBQWMvRixVQUFVRSxJQUFJLFdBQ3hGVCxLQUFLMEMsU0FBU1QsUUFBUSxRQUFRSyxjQUFjLDBCQUEwQmxDLGlCQUFpQixRQUFTLEtBQUtvQyxNQUFNZ0IsU0FDM0d4RCxLQUFLMEMsU0FBU1QsUUFBUSxRQUFRSyxjQUFjLDJCQUEyQmxDLGlCQUFpQixRQUFTLEtBQUtvQyxNQUFNaUIsVUFFaEhDLFNBQVUsV0FDTixHQUFJMUQsS0FBSzBDLFNBQVNULFFBQVEsUUFBUUssY0FBYyxnQkFBZ0IsQ0FDNUR0QyxLQUFLMEMsU0FBU1QsUUFBUSxRQUFRSyxjQUFjLGdCQUFnQi9CLFVBQVVDLE9BQU8sV0FFakZSLEtBQUswQyxTQUFTVCxRQUFRLFFBQVFKLGlCQUFpQixRQUFRVyxNQUFNOEQsY0FBYy9GLFVBQVVFLElBQUksZ0JBS3pHLEdBQUlrQixTQUFTVyxjQUFjLDBCQUEwQixDQUNqRFgsU0FBU0UsaUJBQWlCLDBCQUEwQjVCLFFBQVNzQyxTQUN6RCxJQUFJd0QsZ0JBQWtCeEQsT0FBT0QsY0FBYyxjQUMzQyxJQUFJRSxNQUFRLElBQUlDLE1BQU0sQ0FDbEJDLFNBQVVxRCxnQkFDVnBELFNBQVUsSUFDVkMsT0FBUSxXQUNSQyxRQUFTLEVBQ1RJLFdBQVksRUFDWkMsVUFBVyxNQUNYQyxhQUFjLE1BQ2RDLFVBQVcsR0FDWEMsS0FBTSxNQUNOQyxJQUFLLE1BQ0xDLE9BQVEsV0FDSixHQUFJL0IsT0FBT0MsT0FBT0MsTUFBUSxLQUFNLENBQzVCMUIsS0FBSzBDLFNBQVM4QixNQUFNd0IsU0FBVyxVQUVuQ2hHLEtBQUswQyxTQUFTYixpQkFBaUIsVUFBVTVCLFFBQVMsQ0FBQ0MsS0FBTUMsU0FDckQsSUFBSThGLElBQU10RSxTQUFTdUUsY0FBYyxVQUNqQ0QsSUFBSTFGLFVBQVVFLElBQUksT0FDbEJ3RixJQUFJZCxVQUFZakYsS0FBS2dDLFFBQVFxRSxRQUM3QnZHLEtBQUswQyxTQUFTVCxRQUFRLFFBQVFLLGNBQWMsc0JBQXNCOEQsWUFBWUgsS0FDOUVBLElBQUk3RixpQkFBaUIsUUFBUyxLQUFLb0MsTUFBTTZELEtBQUtsRyxXQUVsREgsS0FBSzBDLFNBQVNULFFBQVEsUUFBUUssY0FBYywwQkFBMEJsQyxpQkFBaUIsUUFBUyxLQUFLb0MsTUFBTWdCLFNBQzNHeEQsS0FBSzBDLFNBQVNULFFBQVEsUUFBUUssY0FBYywyQkFBMkJsQyxpQkFBaUIsUUFBUyxLQUFLb0MsTUFBTWlCLFVBRWhIQyxTQUFVLFdBQ04sR0FBSTFELEtBQUswQyxTQUFTSixjQUFjLGtCQUFrQixDQUM5Q3RDLEtBQUswQyxTQUFTSixjQUFjLGtCQUFrQi9CLFVBQVVDLE9BQU8sV0FFbkVSLEtBQUswQyxTQUFTYixpQkFBaUIsVUFBVVcsTUFBTThELGNBQWMvRixVQUFVRSxJQUFJLFdBQzNFLEdBQUlULEtBQUswQyxTQUFTVCxRQUFRLFFBQVFLLGNBQWMsZ0JBQWdCLENBQzVEdEMsS0FBSzBDLFNBQVNULFFBQVEsUUFBUUssY0FBYyxnQkFBZ0IvQixVQUFVQyxPQUFPLFdBRWpGUixLQUFLMEMsU0FBU1QsUUFBUSxRQUFRSixpQkFBaUIsUUFBUVcsTUFBTThELGNBQWMvRixVQUFVRSxJQUFJLFdBQ3pGLElBQUkrRixJQUFNeEcsS0FBSzBDLFNBQVNULFFBQVEsMEJBQTBCSyxjQUFjLGVBQ3hFa0UsSUFBSWhDLE1BQU1pQyxRQUFVLElBQ3BCMUIsV0FBVyxLQUNQeUIsSUFBSUUsSUFBTTFHLEtBQUswQyxTQUFTYixpQkFBaUIsVUFBVVcsTUFBTThELGNBQWNwRSxRQUFRc0UsSUFDL0VBLElBQUloQyxNQUFNaUMsUUFBVSxLQUNyQixVQU1uQjlFLFNBQVNFLGlCQUFpQixTQUFTNUIsUUFBUzBELE9BQ3hDLElBQUlDLGdCQUFnQixLQUFtQkQsS0FBSzlCLGlCQUFpQixtQkFBb0I4QixLQUFLOUIsaUJBQWlCLHVCQUczRyxHQUFJRixTQUFTVyxjQUFjLHFCQUFxQixDQUM1QyxJQUFJRSxNQUFRLElBQUlDLE1BQU0sQ0FDbEJDLFNBQVUsb0JBQ1ZDLFNBQVUsSUFDVkMsT0FBUSxXQUNSQyxRQUFTLEVBQ1RJLFdBQVksRUFDWkMsVUFBVyxLQUNYQyxhQUFjLE1BQ2RDLFVBQVcsR0FDWEMsS0FBTSxNQUNOQyxJQUFLLE1BQ0xDLE9BQVEsV0FDSnZELEtBQUswQyxTQUFTVCxRQUFRLGFBQWFLLGNBQWMsc0JBQXNCbEMsaUJBQWlCLFFBQVMsS0FBS29DLE1BQU1nQixTQUM1R3hELEtBQUswQyxTQUFTVCxRQUFRLGFBQWFLLGNBQWMsdUJBQXVCbEMsaUJBQWlCLFFBQVMsS0FBS29DLE1BQU1pQixVQUVqSEMsU0FBVSxlQUtsQixHQUFJL0IsU0FBU1csY0FBYyxVQUFXLENBQ2xDLElBQUl1QixhQUFhbEMsU0FBU1csY0FBYyxrQkFBbUIsSUFBSVgsU0FBU0UsaUJBQWlCLG1CQUFvQkYsU0FBU1csY0FBYyxrQkFDcEksR0FBSWQsT0FBT0MsT0FBT0MsTUFBUSxJQUFLLENBQzNCLElBQUl5QyxlQUFleEMsU0FBU1csY0FBYyx1QkFHbEQsR0FBSVgsU0FBU1csY0FBYyxVQUFXLENBQ2xDZCxPQUFPcEIsaUJBQWlCLFNBQVUsV0FDOUJ1QixTQUFTVyxjQUFjLFVBQVVrQyxNQUFNbUMsYUFBZWxCLEtBQUtDLE1BQU0sSUFBTS9ELFNBQVNXLGNBQWMsVUFBVXNFLG1CQUdoSCxHQUFJakYsU0FBU1csY0FBYywrQkFBZ0MsQ0FDdkRYLFNBQVNFLGlCQUFpQiwrQkFBK0I1QixRQUFRQyxPQUM3RCxTQUFTMkcsY0FDTCxHQUFJM0csS0FBSzRHLHdCQUF3QkMsS0FBT3ZGLE9BQU9DLE9BQU9nRCxPQUFPLENBQ3pEakQsT0FBT1ksb0JBQW9CLFNBQVV5RSxhQUNyQyxJQUFJN0IsU0FBUzlFLEtBQU0sTUFHM0JzQixPQUFPcEIsaUJBQWlCLFNBQVV5RyxlQUcxQyxHQUFJbEYsU0FBU1csY0FBYywyQkFBMkIsQ0FDbERYLFNBQVNFLGlCQUFpQiwyQkFBMkI1QixRQUFTQyxPQUMxRCxJQUFJMEYsU0FBUzFGLFFBR3JCeUIsU0FBU0UsaUJBQWlCLGdCQUFnQjVCLFFBQVNDLE9BQy9DLElBQUlTLFVBQVUsV0FBV1QsS0FBTXlCLFNBQVNXLHdCQUF3QnBDLEtBQUtnQyxRQUFRckIiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLyoqKioqKi8gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbnM7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gVGFiczsgfSk7XG5jbGFzcyBUYWJze1xyXG4gICAgY29uc3RydWN0b3IoYnRuQXJyb3csIHRhYkFycm93KSB7XHJcbiAgICAgICAgdGhpcy5idG5BcnJvdyA9IGJ0bkFycm93XHJcbiAgICAgICAgdGhpcy50YWJBcnJvdyA9IHRhYkFycm93XHJcbiAgICAgICAgdGhpcy5idG5BcnJvdy5mb3JFYWNoKCAoZWxlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+ICh0aGlzLnN3aXRjaFRhYihpbmRleCkpKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBzd2l0Y2hUYWIoaW5kZXgpe1xyXG4gICAgICAgIHRoaXMuYnRuQXJyb3cuZm9yRWFjaChidG4gPT57XHJcbiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50JylcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuYnRuQXJyb3dbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKVxyXG4gICAgICAgIHRoaXMudGFiQXJyb3cuZm9yRWFjaCh0YWIgPT57XHJcbiAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50JylcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMudGFiQXJyb3dbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKVxyXG4gICAgfVxyXG59XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gcG9wdXBGdW5jOyB9KTtcbmNsYXNzIHBvcHVwRnVuYyB7XHJcbiAgICBjb25zdHJ1Y3RvcihidXR0b24scG9wdXApIHtcclxuICAgICAgICB0aGlzLmJ1dHRvbiA9IGJ1dHRvbjtcclxuICAgICAgICB0aGlzLnBvcHVwID0gcG9wdXA7XHJcbiAgICAgICAgdGhpcy5vcGVuUG9wdXBGdW5jID0gdGhpcy5vcGVuUG9wdXAuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNsb3NlUG9wdXBGdW5jID0gdGhpcy5jbG9zZVBvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgaWYgKCBBcnJheS5pc0FycmF5KHRoaXMuYnV0dG9uKSl7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlblBvcHVwRnVuYyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Qb3B1cEZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9wZW5Qb3B1cChldmVudCl7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGlmICh0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd3cmFwcGVyJykpIHtcclxuICAgICAgICAgICAgdGhpcy5wb3B1cC5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLmNsb3NlJykuZm9yRWFjaCggZWxlbSA9PiBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZVBvcHVwRnVuYykpO1xyXG4gICAgICAgIGlmICh0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd3cmFwcGVyJykpIHtcclxuICAgICAgICAgICAgdGhpcy5wb3B1cC5wYXJlbnROb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZVBvcHVwRnVuYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2xvc2VQb3B1cChldmVudCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICBpZiAoIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlJykgJiYgZXZlbnQudGFyZ2V0LmNsb3Nlc3QoYC4ke3RoaXMuYnV0dG9uLmRhdGFzZXQucG9wdXB9YCkgIT09IG51bGwpe1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wb3B1cC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA3NjgpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZScpLmZvckVhY2goIGVsZW0gPT4gZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5wYXJlbnROb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZVBvcHVwRnVuYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMyk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfY29tcG9uZW50c190YWJzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm91ci1zcGVjaWFsaXN0cyAuc2xpZGVyJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm91ci1zcGVjaWFsaXN0cyAuc2xpZGVyJykuZm9yRWFjaCggc2xpZGVyID0+IHtcclxuICAgICAgICBsZXQgc2llbWEgPSBuZXcgU2llbWEoe1xyXG4gICAgICAgICAgICBzZWxlY3Rvcjogc2xpZGVyLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlLW91dCcsXHJcbiAgICAgICAgICAgIHBlclBhZ2U6IHtcclxuICAgICAgICAgICAgICAgIDA6IDEsXHJcbiAgICAgICAgICAgICAgICA0ODA6IDIsXHJcbiAgICAgICAgICAgICAgICAxMDI0OiAzXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0YXJ0SW5kZXg6IDEsXHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgbXVsdGlwbGVEcmFnOiB0cnVlLFxyXG4gICAgICAgICAgICB0aHJlc2hvbGQ6IDIwLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICAgICAgcnRsOiBmYWxzZSxcclxuICAgICAgICAgICAgb25Jbml0OiBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IuY2xvc2VzdCgnc2VjdGlvbicpLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItYnRucyAuYnRuLWxlZnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEucHJldigpfSlcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IuY2xvc2VzdCgnc2VjdGlvbicpLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItYnRucyAuYnRuLXJpZ2h0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLm5leHQoKX0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFicycpLmZvckVhY2goIHRhYnMgPT4ge1xyXG4gICAgbmV3IF9jb21wb25lbnRzX3RhYnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1svKiBkZWZhdWx0ICovIFwiYVwiXSh0YWJzLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItbGlua3MgLnRhYicpLCB0YWJzLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYmxvY2tzIC50YWInKSlcclxufSlcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gRVNNIENPTVBBVCBGTEFHXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvanMvY29tcG9uZW50cy90YWJzLmpzXG52YXIgY29tcG9uZW50c190YWJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvanMvY29tcG9uZW50cy9nbG9iYWwvaGVhZGVyQnVyZ2VyLmpzXG5jbGFzcyBIZWFkZXJCdXJnZXJ7XHJcbiAgICBjb25zdHJ1Y3RvcihidXJnZXIsIHBvcHVwLCBjbG9zZSkge1xyXG4gICAgICAgIHRoaXMuYnVyZ2VyID0gYnVyZ2VyO1xyXG4gICAgICAgIHRoaXMuZmxhZyA9IEFycmF5LmlzQXJyYXkocG9wdXApO1xyXG4gICAgICAgIHRoaXMucG9wdXAgPSBwb3B1cDtcclxuICAgICAgICB0aGlzLmNsb3NlID0gY2xvc2U7XHJcbiAgICAgICAgdGhpcy5idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3RoaXMuYnVyZ2VyRnVuY3Rpb24oKX0pO1xyXG4gICAgICAgIHRoaXMuY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3RoaXMuY2xvc2VGdW5jdGlvbigpfSlcclxuICAgIH1cclxuICAgIGJ1cmdlckZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYgKHRoaXMuZmxhZyl7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgfVxyXG4gICAgY2xvc2VGdW5jdGlvbigpe1xyXG4gICAgICAgIGlmICh0aGlzLmZsYWcpe1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgfVxyXG59XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9qcy9jb21wb25lbnRzL2dsb2JhbC9oZWFkZXJMYW5ndWFnZS5qc1xuY2xhc3MgaGVhZGVyTGFuZ3VhZ2V7XHJcbiAgICBjb25zdHJ1Y3RvcihsYW5ndWFnZUJsb2NrKSB7XHJcbiAgICAgICAgdGhpcy5sYW5ndWFnZUJsb2NrID0gbGFuZ3VhZ2VCbG9ja1xyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2VMaXN0ID0gdGhpcy5sYW5ndWFnZUJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ3VsJylcclxuICAgICAgICB0aGlzLmxhbmd1YWdlQmxvY2sucXVlcnlTZWxlY3RvcignLmN1cnJlbnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57dGhpcy5zaG93QmxvY2soKX0pXHJcbiAgICB9XHJcbiAgICBzaG93QmxvY2soKXtcclxuICAgICAgICBsZXQgY2xvc2VCbG9jayA9ICgpPT57XHJcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2VMaXN0LnN0eWxlLmhlaWdodCA9IGAwYFxyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUJsb2NrKVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYmxvY2tIZWlnaHQgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmxhbmd1YWdlTGlzdCkuZ2V0UHJvcGVydHlWYWx1ZSgnaGVpZ2h0JykpXHJcbiAgICAgICAgaWYgKGJsb2NrSGVpZ2h0ID09PSAwKXtcclxuICAgICAgICAgICAgdGhpcy5sYW5ndWFnZUxpc3Quc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5sYW5ndWFnZUxpc3Quc2Nyb2xsSGVpZ2h0fXB4YFxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUJsb2NrKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2VMaXN0LnN0eWxlLmhlaWdodCA9IGAwYFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvanMvY29tcG9uZW50cy9nbG9iYWwvY291bnRlcnMuanNcbmNsYXNzIENvdW50ZXJzIHtcclxuICAgIGNvbnN0cnVjdG9yKGVsZW0sIGRlbGF5KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XHJcbiAgICAgICAgdGhpcy5jb3VudCA9IHBhcnNlSW50KHRoaXMuZWxlbS5pbm5lclRleHQpO1xyXG4gICAgICAgIHRoaXMubmV3TnVtID0gMDtcclxuICAgICAgICB0aGlzLndvcmRQYXJ0cyA9IHRoaXMuZWxlbS5pbm5lclRleHQuc3BsaXQoL1thLXpBLVpdK3xbMC05XSsvKTtcclxuICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoICgpPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm5ld051bSArPSB0aGlzLmNvdW50IC8gdGhpcy5kZWxheTtcclxuICAgICAgICAgICAgdGhpcy5lbGVtLmlubmVyVGV4dCA9IGAke3RoaXMud29yZFBhcnRzWzBdfSR7TWF0aC5yb3VuZCh0aGlzLm5ld051bSl9JHt0aGlzLndvcmRQYXJ0c1sxXX1gXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5ld051bSA+PSB0aGlzLmNvdW50KXtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMuY291bnQgLyB0aGlzLmRlbGF5KTtcclxuICAgIH1cclxufVxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvanMvY29tcG9uZW50cy9oaWRlTGlzdC5qc1xuY2xhc3MgaGlkZUxpc3R7XHJcbiAgICBjb25zdHJ1Y3RvcihsaXN0QmxvY2spIHtcclxuICAgICAgICB0aGlzLmxpc3RCbG9jayA9IGxpc3RCbG9jaztcclxuICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1ibG9ja10nKTtcclxuICAgICAgICB0aGlzLmxpc3RCbG9jay5xdWVyeVNlbGVjdG9yKCdbZGF0YS1idG5dJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3RoaXMuc2hvd0Jsb2NrKCl9KTtcclxuICAgICAgICBpZiAodGhpcy5saXN0LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAke3RoaXMubGlzdC5zY3JvbGxIZWlnaHR9cHhgO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNob3dCbG9jaygpe1xyXG4gICAgICAgIGxldCBibG9ja0hlaWdodCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMubGlzdCkuZ2V0UHJvcGVydHlWYWx1ZSgnaGVpZ2h0JykpO1xyXG4gICAgICAgIGlmIChibG9ja0hlaWdodCA9PT0gMCl7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmxpc3Quc2Nyb2xsSGVpZ2h0fXB4YDtcclxuICAgICAgICAgICAgdGhpcy5saXN0QmxvY2sucXVlcnlTZWxlY3RvcignW2RhdGEtYnRuXScpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdEJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWJ0bl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0LnN0eWxlLmhlaWdodCA9IGAwYFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9qcy9wb3B1cEZ1bmMuanNcbnZhciBwb3B1cEZ1bmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9qcy9pbmRleC5qc1xuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWZ1bGwtcGFnZScpKXtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXItZnVsbC1wYWdlJykuZm9yRWFjaCggc2xpZGVyID0+IHtcclxuICAgICAgICBsZXQgc2xpZGVyQ29udGFpbmVyID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcclxuICAgICAgICBsZXQgc2llbWEgPSBuZXcgU2llbWEoe1xyXG4gICAgICAgICAgICBzZWxlY3Rvcjogc2xpZGVyQ29udGFpbmVyLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlLW91dCcsXHJcbiAgICAgICAgICAgIHBlclBhZ2U6IHtcclxuICAgICAgICAgICAgICAgIDA6IDEsXHJcbiAgICAgICAgICAgICAgICAxMDI0OiAyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0YXJ0SW5kZXg6IDEsXHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogd2luZG93LnNjcmVlbi53aWR0aCA8IDc2NyxcclxuICAgICAgICAgICAgbXVsdGlwbGVEcmFnOiB0cnVlLFxyXG4gICAgICAgICAgICB0aHJlc2hvbGQ6IDIwLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICAgICAgcnRsOiBmYWxzZSxcclxuICAgICAgICAgICAgb25Jbml0OiBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNzY3IHx8IHRoaXMuc2VsZWN0b3IucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2luaXRpYWwnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3Iuc3R5bGUub3ZlcmZsb3cgPSAnaW5pdGlhbCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlJykuZm9yRWFjaCggKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvdC5jbGFzc0xpc3QuYWRkKCdkb3QnKTtcclxuICAgICAgICAgICAgICAgICAgICBkb3QuaW5uZXJUZXh0ID0gZWxlbS5xdWVyeVNlbGVjdG9yKCcubmFtZScpLmlubmVySFRNTDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLmRvdHMnKS5hcHBlbmRDaGlsZChkb3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEuZ29UbyhpbmRleCl9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yQWxsKCcuZG90JylbdGhpcy5jdXJyZW50U2xpZGVdLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLnNsaWRlci1idG5zIC5idG4tbGVmdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntzaWVtYS5wcmV2KCl9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IuY2xvc2VzdCgnLnRhYicpLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItYnRucyAuYnRuLXJpZ2h0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLm5leHQoKX0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuZG90LmN1cnJlbnQnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLmRvdC5jdXJyZW50JykuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yQWxsKCcuZG90Jylbc2llbWEuY3VycmVudFNsaWRlXS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50JylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWZ1bGwtcGFnZS1zb2xvJykpe1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlci1mdWxsLXBhZ2Utc29sbycpLmZvckVhY2goIHNsaWRlciA9PiB7XHJcbiAgICAgICAgbGV0IHNsaWRlckNvbnRhaW5lciA9IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJylcclxuICAgICAgICBsZXQgc2llbWEgPSBuZXcgU2llbWEoe1xyXG4gICAgICAgICAgICBzZWxlY3Rvcjogc2xpZGVyQ29udGFpbmVyLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlLW91dCcsXHJcbiAgICAgICAgICAgIHBlclBhZ2U6IDEsXHJcbiAgICAgICAgICAgIHN0YXJ0SW5kZXg6IDAsXHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIG11bHRpcGxlRHJhZzogZmFsc2UsXHJcbiAgICAgICAgICAgIHRocmVzaG9sZDogMjAsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgICAgICBydGw6IGZhbHNlLFxyXG4gICAgICAgICAgICBvbkluaXQ6IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPiAxMTk5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5zdHlsZS5vdmVyZmxvdyA9ICdpbml0aWFsJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUnKS5mb3JFYWNoKCAoZWxlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG90LmNsYXNzTGlzdC5hZGQoJ2RvdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvdC5pbm5lclRleHQgPSBlbGVtLmRhdGFzZXQuZG90TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLmRvdHMnKS5hcHBlbmRDaGlsZChkb3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEuZ29UbyhpbmRleCl9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWJ0bnMgLmJ0bi1sZWZ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLnByZXYoKX0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLnNsaWRlci1idG5zIC5idG4tcmlnaHQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEubmV4dCgpfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnNsaWRlLmN1cnJlbnQnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuc2xpZGUuY3VycmVudCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUnKVtzaWVtYS5jdXJyZW50U2xpZGVdLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yKCcuZG90LmN1cnJlbnQnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcudGFiJykucXVlcnlTZWxlY3RvcignLmRvdC5jdXJyZW50JykuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy50YWInKS5xdWVyeVNlbGVjdG9yQWxsKCcuZG90Jylbc2llbWEuY3VycmVudFNsaWRlXS5jbGFzc0xpc3QuYWRkKCdjdXJyZW50Jyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW1nID0gdGhpcy5zZWxlY3Rvci5jbG9zZXN0KCcuc2xpZGVyLWZ1bGwtcGFnZS1zb2xvJykucXVlcnlTZWxlY3RvcignLmJnLWltZyBpbWcnKTtcclxuICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSB0aGlzLnNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZScpW3NpZW1hLmN1cnJlbnRTbGlkZV0uZGF0YXNldC5pbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9wYWNpdHkgPSAnMSdcclxuICAgICAgICAgICAgICAgIH0sIDE1MClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFicycpLmZvckVhY2goIHRhYnMgPT4ge1xyXG4gICAgbmV3IGNvbXBvbmVudHNfdGFic1tcImFcIiAvKiBkZWZhdWx0ICovXSh0YWJzLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItbGlua3MgLnRhYicpLCB0YWJzLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYmxvY2tzIC50YWInKSlcclxufSk7XHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbW1lbnRzIC5zbGlkZXInKSl7XHJcbiAgICBsZXQgc2llbWEgPSBuZXcgU2llbWEoe1xyXG4gICAgICAgIHNlbGVjdG9yOiAnLmNvbW1lbnRzIC5zbGlkZXInLFxyXG4gICAgICAgIGR1cmF0aW9uOiAzMDAsXHJcbiAgICAgICAgZWFzaW5nOiAnZWFzZS1vdXQnLFxyXG4gICAgICAgIHBlclBhZ2U6IDEsXHJcbiAgICAgICAgc3RhcnRJbmRleDogMCxcclxuICAgICAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICAgICAgbXVsdGlwbGVEcmFnOiBmYWxzZSxcclxuICAgICAgICB0aHJlc2hvbGQ6IDIwLFxyXG4gICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgIHJ0bDogZmFsc2UsXHJcbiAgICAgICAgb25Jbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IuY2xvc2VzdCgnLmNvbW1lbnRzJykucXVlcnlTZWxlY3RvcignLnNsaWRlci1idG5zIC5sZWZ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLnByZXYoKX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJy5jb21tZW50cycpLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItYnRucyAucmlnaHQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEubmV4dCgpfSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlcicpKSB7XHJcbiAgICBuZXcgSGVhZGVyQnVyZ2VyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtYnVyZ2VyJyksIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoZWFkZXIgLm1vYmlsZScpXSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5jbG9zZScpKTtcclxuICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoID4gNTc2KSB7XHJcbiAgICAgICAgbmV3IGhlYWRlckxhbmd1YWdlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXIgLmxhbmd1YWdlJykpXHJcbiAgICB9XHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2aWRlbycpKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2aWRlbycpLnN0eWxlLm1pbkhlaWdodCA9IGAke01hdGgucm91bmQoLjQ1ICogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ZpZGVvJykub2Zmc2V0V2lkdGgpfXB4YFxyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5hY2hpZXZlbWVudHMgLmNvdW50JykpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24uYWNoaWV2ZW1lbnRzIC5jb3VudCcpLmZvckVhY2goZWxlbSA9PiB7XHJcbiAgICAgICAgZnVuY3Rpb24gY2hlY2tIZWlnaHQoKXtcclxuICAgICAgICAgICAgaWYgKGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIDw9IHdpbmRvdy5zY3JlZW4uaGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBjaGVja0hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBuZXcgQ291bnRlcnMoZWxlbSwgNDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2hlY2tIZWlnaHQpO1xyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5xdWVzdGlvbnMgLmVsZW0nKSl7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLnF1ZXN0aW9ucyAuZWxlbScpLmZvckVhY2goIGVsZW0gPT4ge1xyXG4gICAgICAgIG5ldyBoaWRlTGlzdChlbGVtKVxyXG4gICAgfSlcclxufVxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wb3B1cF0nKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgIG5ldyBwb3B1cEZ1bmNbXCJkZWZhdWx0XCJdKGVsZW0sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wb3B1cC4ke2VsZW0uZGF0YXNldC5wb3B1cH1gKSk7XHJcbn0pO1xuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7Il0sImZpbGUiOiJtYWluLW1pbi5qcyJ9
